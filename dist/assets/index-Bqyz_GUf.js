import{M as po,a as vo,R as go,U as mo,S as xo,b as er,c as yo,C as tr,V as rr,d as Co,e as $t,I as bo,f as wo,B as Bn,g as Ao,T as So,L as un,h as Uo,i as cn,D as To,P as jr,u as Eo,j as Wn,k as Mo,l as ko,r as O,m as nr,O as dt,n as Fo,o as Lo,p as Ro,q as dn,s as Do,t as _e,v as _o,_ as Po,w as x,N as hn,x as jo,y as Hn,z as Ur,A as Go}from"./index-CtZuvmrW.js";function Oo(){var l=Object.create(null);function r(t,e){var i=t.id,a=t.name,n=t.dependencies;n===void 0&&(n=[]);var o=t.init;o===void 0&&(o=function(){});var s=t.getTransferables;if(s===void 0&&(s=null),!l[i])try{n=n.map(function(d){return d&&d.isWorkerModule&&(r(d,function(h){if(h instanceof Error)throw h}),d=l[d.id].value),d}),o=u("<"+a+">.init",o),s&&(s=u("<"+a+">.getTransferables",s));var c=null;typeof o=="function"?c=o.apply(void 0,n):console.error("worker module init function failed to rehydrate"),l[i]={id:i,value:c,getTransferables:s},e(c)}catch(d){d&&d.noLog||console.error(d),e(d)}}function f(t,e){var i,a=t.id,n=t.args;(!l[a]||typeof l[a].value!="function")&&e(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(i=l[a]).value.apply(i,n);o&&typeof o.then=="function"?o.then(s,function(c){return e(c instanceof Error?c:new Error(""+c))}):s(o)}catch(c){e(c)}function s(c){try{var d=l[a].getTransferables&&l[a].getTransferables(c);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),e(c,d)}catch(h){console.error(h),e(h)}}}function u(t,e){var i=void 0;self.troikaDefine=function(n){return i=n};var a=URL.createObjectURL(new Blob(["/** "+t.replace(/\*/g,"")+` **/

troikaDefine(
`+e+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(n){console.error(n)}return URL.revokeObjectURL(a),delete self.troikaDefine,i}self.addEventListener("message",function(t){var e=t.data,i=e.messageId,a=e.action,n=e.data;try{a==="registerModule"&&r(n,function(o){o instanceof Error?postMessage({messageId:i,success:!1,error:o.message}):postMessage({messageId:i,success:!0,result:{isCallable:typeof o=="function"}})}),a==="callModule"&&f(n,function(o,s){o instanceof Error?postMessage({messageId:i,success:!1,error:o.message}):postMessage({messageId:i,success:!0,result:o},s||void 0)})}catch(o){postMessage({messageId:i,success:!1,error:o.stack})}})}function Io(l){var r=function(){for(var f=[],u=arguments.length;u--;)f[u]=arguments[u];return r._getInitResult().then(function(t){if(typeof t=="function")return t.apply(void 0,f);throw new Error("Worker module function was called but `init` did not return a callable function")})};return r._getInitResult=function(){var f=l.dependencies,u=l.init;f=Array.isArray(f)?f.map(function(e){return e&&(e=e.onMainThread||e,e._getInitResult&&(e=e._getInitResult())),e}):[];var t=Promise.all(f).then(function(e){return u.apply(null,e)});return r._getInitResult=function(){return t},t},r}var Nn=function(){var l=!1;if(typeof window<"u"&&typeof window.document<"u")try{var r=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));r.terminate(),l=!0}catch(f){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+f.message+"]")}return Nn=function(){return l},l},Bo=0,Wo=0,Tr=!1,_t=Object.create(null),Pt=Object.create(null),Lr=Object.create(null);function Ct(l){if((!l||typeof l.init!="function")&&!Tr)throw new Error("requires `options.init` function");var r=l.dependencies,f=l.init,u=l.getTransferables,t=l.workerId,e=Io(l);t==null&&(t="#default");var i="workerModule"+ ++Bo,a=l.name||i,n=null;r=r&&r.map(function(s){return typeof s=="function"&&!s.workerModuleData&&(Tr=!0,s=Ct({workerId:t,name:"<"+a+"> function dependency: "+s.name,init:`function(){return (
`+qt(s)+`
)}`}),Tr=!1),s&&s.workerModuleData&&(s=s.workerModuleData),s});function o(){for(var s=[],c=arguments.length;c--;)s[c]=arguments[c];if(!Nn())return e.apply(void 0,s);if(!n){n=pn(t,"registerModule",o.workerModuleData);var d=function(){n=null,Pt[t].delete(d)};(Pt[t]||(Pt[t]=new Set)).add(d)}return n.then(function(h){var v=h.isCallable;if(v)return pn(t,"callModule",{id:i,args:s});throw new Error("Worker module function was called but `init` did not return a callable function")})}return o.workerModuleData={isWorkerModule:!0,id:i,name:a,dependencies:r,init:qt(f),getTransferables:u&&qt(u)},o.onMainThread=e,o}function Ho(l){Pt[l]&&Pt[l].forEach(function(r){r()}),_t[l]&&(_t[l].terminate(),delete _t[l])}function qt(l){var r=l.toString();return!/^function/.test(r)&&/^\w+\s*\(/.test(r)&&(r="function "+r),r}function No(l){var r=_t[l];if(!r){var f=qt(Oo);r=_t[l]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+l.replace(/\*/g,"")+` **/

;(`+f+")()"],{type:"application/javascript"}))),r.onmessage=function(u){var t=u.data,e=t.messageId,i=Lr[e];if(!i)throw new Error("WorkerModule response with empty or unknown messageId");delete Lr[e],i(t)}}return r}function pn(l,r,f){return new Promise(function(u,t){var e=++Wo;Lr[e]=function(i){i.success?u(i.result):t(new Error("Error in worker "+r+" call: "+i.error))},No(l).postMessage({messageId:e,action:r,data:f})})}function zn(){var l=function(r){function f(I,j,m,U,M,L,T,H){var _=1-T;H.x=_*_*I+2*_*T*m+T*T*M,H.y=_*_*j+2*_*T*U+T*T*L}function u(I,j,m,U,M,L,T,H,_,B){var Y=1-_;B.x=Y*Y*Y*I+3*Y*Y*_*m+3*Y*_*_*M+_*_*_*T,B.y=Y*Y*Y*j+3*Y*Y*_*U+3*Y*_*_*L+_*_*_*H}function t(I,j){for(var m=/([MLQCZ])([^MLQCZ]*)/g,U,M,L,T,H;U=m.exec(I);){var _=U[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(B){return parseFloat(B)});switch(U[1]){case"M":T=M=_[0],H=L=_[1];break;case"L":(_[0]!==T||_[1]!==H)&&j("L",T,H,T=_[0],H=_[1]);break;case"Q":{j("Q",T,H,T=_[2],H=_[3],_[0],_[1]);break}case"C":{j("C",T,H,T=_[4],H=_[5],_[0],_[1],_[2],_[3]);break}case"Z":(T!==M||H!==L)&&j("L",T,H,M,L);break}}}function e(I,j,m){m===void 0&&(m=16);var U={x:0,y:0};t(I,function(M,L,T,H,_,B,Y,te,Z){switch(M){case"L":j(L,T,H,_);break;case"Q":{for(var N=L,me=T,de=1;de<m;de++)f(L,T,B,Y,H,_,de/(m-1),U),j(N,me,U.x,U.y),N=U.x,me=U.y;break}case"C":{for(var Q=L,re=T,fe=1;fe<m;fe++)u(L,T,B,Y,te,Z,H,_,fe/(m-1),U),j(Q,re,U.x,U.y),Q=U.x,re=U.y;break}}})}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",n=new WeakMap,o={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(I,j){var m=I.getContext?I.getContext("webgl",o):I,U=n.get(m);if(!U){let Y=function(Q){var re=L[Q];if(!re&&(re=L[Q]=m.getExtension(Q),!re))throw new Error(Q+" not supported");return re},te=function(Q,re){var fe=m.createShader(re);return m.shaderSource(fe,Q),m.compileShader(fe),fe},Z=function(Q,re,fe,V){if(!T[Q]){var ne={},ee={},G=m.createProgram();m.attachShader(G,te(re,m.VERTEX_SHADER)),m.attachShader(G,te(fe,m.FRAGMENT_SHADER)),m.linkProgram(G),T[Q]={program:G,transaction:function(q){m.useProgram(G),q({setUniform:function(J,be){for(var ae=[],se=arguments.length-2;se-- >0;)ae[se]=arguments[se+2];var ce=ee[be]||(ee[be]=m.getUniformLocation(G,be));m["uniform"+J].apply(m,[ce].concat(ae))},setAttribute:function(J,be,ae,se,ce){var ve=ne[J];ve||(ve=ne[J]={buf:m.createBuffer(),loc:m.getAttribLocation(G,J),data:null}),m.bindBuffer(m.ARRAY_BUFFER,ve.buf),m.vertexAttribPointer(ve.loc,be,m.FLOAT,!1,0,0),m.enableVertexAttribArray(ve.loc),M?m.vertexAttribDivisor(ve.loc,se):Y("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ve.loc,se),ce!==ve.data&&(m.bufferData(m.ARRAY_BUFFER,ce,ae),ve.data=ce)}})}}}T[Q].transaction(V)},N=function(Q,re){_++;try{m.activeTexture(m.TEXTURE0+_);var fe=H[Q];fe||(fe=H[Q]=m.createTexture(),m.bindTexture(m.TEXTURE_2D,fe),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST)),m.bindTexture(m.TEXTURE_2D,fe),re(fe,_)}finally{_--}},me=function(Q,re,fe){var V=m.createFramebuffer();B.push(V),m.bindFramebuffer(m.FRAMEBUFFER,V),m.activeTexture(m.TEXTURE0+re),m.bindTexture(m.TEXTURE_2D,Q),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,Q,0);try{fe(V)}finally{m.deleteFramebuffer(V),m.bindFramebuffer(m.FRAMEBUFFER,B[--B.length-1]||null)}},de=function(){L={},T={},H={},_=-1,B.length=0};var M=typeof WebGL2RenderingContext<"u"&&m instanceof WebGL2RenderingContext,L={},T={},H={},_=-1,B=[];m.canvas.addEventListener("webglcontextlost",function(Q){de(),Q.preventDefault()},!1),n.set(m,U={gl:m,isWebGL2:M,getExtension:Y,withProgram:Z,withTexture:N,withTextureFramebuffer:me,handleContextLoss:de})}j(U)}function c(I,j,m,U,M,L,T,H){T===void 0&&(T=15),H===void 0&&(H=null),s(I,function(_){var B=_.gl,Y=_.withProgram,te=_.withTexture;te("copy",function(Z,N){B.texImage2D(B.TEXTURE_2D,0,B.RGBA,M,L,0,B.RGBA,B.UNSIGNED_BYTE,j),Y("copy",i,a,function(me){var de=me.setUniform,Q=me.setAttribute;Q("aUV",2,B.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),de("1i","image",N),B.bindFramebuffer(B.FRAMEBUFFER,H||null),B.disable(B.BLEND),B.colorMask(T&8,T&4,T&2,T&1),B.viewport(m,U,M,L),B.scissor(m,U,M,L),B.drawArrays(B.TRIANGLES,0,3)})})})}function d(I,j,m){var U=I.width,M=I.height;s(I,function(L){var T=L.gl,H=new Uint8Array(U*M*4);T.readPixels(0,0,U,M,T.RGBA,T.UNSIGNED_BYTE,H),I.width=j,I.height=m,c(T,H,0,0,U,M)})}var h=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:c,resizeWebGLCanvasWithoutClearing:d});function v(I,j,m,U,M,L){L===void 0&&(L=1);var T=new Uint8Array(I*j),H=U[2]-U[0],_=U[3]-U[1],B=[];e(m,function(Q,re,fe,V){B.push({x1:Q,y1:re,x2:fe,y2:V,minX:Math.min(Q,fe),minY:Math.min(re,V),maxX:Math.max(Q,fe),maxY:Math.max(re,V)})}),B.sort(function(Q,re){return Q.maxX-re.maxX});for(var Y=0;Y<I;Y++)for(var te=0;te<j;te++){var Z=me(U[0]+H*(Y+.5)/I,U[1]+_*(te+.5)/j),N=Math.pow(1-Math.abs(Z)/M,L)/2;Z<0&&(N=1-N),N=Math.max(0,Math.min(255,Math.round(N*255))),T[te*I+Y]=N}return T;function me(Q,re){for(var fe=1/0,V=1/0,ne=B.length;ne--;){var ee=B[ne];if(ee.maxX+V<=Q)break;if(Q+V>ee.minX&&re-V<ee.maxY&&re+V>ee.minY){var G=w(Q,re,ee.x1,ee.y1,ee.x2,ee.y2);G<fe&&(fe=G,V=Math.sqrt(fe))}}return de(Q,re)&&(V=-V),V}function de(Q,re){for(var fe=0,V=B.length;V--;){var ne=B[V];if(ne.maxX<=Q)break;var ee=ne.y1>re!=ne.y2>re&&Q<(ne.x2-ne.x1)*(re-ne.y1)/(ne.y2-ne.y1)+ne.x1;ee&&(fe+=ne.y1<ne.y2?1:-1)}return fe!==0}}function g(I,j,m,U,M,L,T,H,_,B){L===void 0&&(L=1),H===void 0&&(H=0),_===void 0&&(_=0),B===void 0&&(B=0),p(I,j,m,U,M,L,T,null,H,_,B)}function p(I,j,m,U,M,L,T,H,_,B,Y){L===void 0&&(L=1),_===void 0&&(_=0),B===void 0&&(B=0),Y===void 0&&(Y=0);for(var te=v(I,j,m,U,M,L),Z=new Uint8Array(te.length*4),N=0;N<te.length;N++)Z[N*4+Y]=te[N];c(T,Z,_,B,I,j,1<<3-Y,H)}function w(I,j,m,U,M,L){var T=M-m,H=L-U,_=T*T+H*H,B=_?Math.max(0,Math.min(1,((I-m)*T+(j-U)*H)/_)):0,Y=I-(m+B*T),te=j-(U+B*H);return Y*Y+te*te}var y=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:g,generateIntoFramebuffer:p}),C="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",b="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",S="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",R=new Float32Array([0,0,2,0,0,2]),E=null,F=!1,W={},P=new WeakMap;function K(I){if(!F&&!X(I))throw new Error("WebGL generation not supported")}function A(I,j,m,U,M,L,T){if(L===void 0&&(L=1),T===void 0&&(T=null),!T&&(T=E,!T)){var H=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!H)throw new Error("OffscreenCanvas or DOM canvas not supported");T=E=H.getContext("webgl",{depth:!1})}K(T);var _=new Uint8Array(I*j*4);s(T,function(Z){var N=Z.gl,me=Z.withTexture,de=Z.withTextureFramebuffer;me("readable",function(Q,re){N.texImage2D(N.TEXTURE_2D,0,N.RGBA,I,j,0,N.RGBA,N.UNSIGNED_BYTE,null),de(Q,re,function(fe){k(I,j,m,U,M,L,N,fe,0,0,0),N.readPixels(0,0,I,j,N.RGBA,N.UNSIGNED_BYTE,_)})})});for(var B=new Uint8Array(I*j),Y=0,te=0;Y<_.length;Y+=4)B[te++]=_[Y];return B}function D(I,j,m,U,M,L,T,H,_,B){L===void 0&&(L=1),H===void 0&&(H=0),_===void 0&&(_=0),B===void 0&&(B=0),k(I,j,m,U,M,L,T,null,H,_,B)}function k(I,j,m,U,M,L,T,H,_,B,Y){L===void 0&&(L=1),_===void 0&&(_=0),B===void 0&&(B=0),Y===void 0&&(Y=0),K(T);var te=[];e(m,function(Z,N,me,de){te.push(Z,N,me,de)}),te=new Float32Array(te),s(T,function(Z){var N=Z.gl,me=Z.isWebGL2,de=Z.getExtension,Q=Z.withProgram,re=Z.withTexture,fe=Z.withTextureFramebuffer,V=Z.handleContextLoss;if(re("rawDistances",function(ne,ee){(I!==ne._lastWidth||j!==ne._lastHeight)&&N.texImage2D(N.TEXTURE_2D,0,N.RGBA,ne._lastWidth=I,ne._lastHeight=j,0,N.RGBA,N.UNSIGNED_BYTE,null),Q("main",C,b,function(G){var pe=G.setAttribute,q=G.setUniform,ie=!me&&de("ANGLE_instanced_arrays"),J=!me&&de("EXT_blend_minmax");pe("aUV",2,N.STATIC_DRAW,0,R),pe("aLineSegment",4,N.DYNAMIC_DRAW,1,te),q.apply(void 0,["4f","uGlyphBounds"].concat(U)),q("1f","uMaxDistance",M),q("1f","uExponent",L),fe(ne,ee,function(be){N.enable(N.BLEND),N.colorMask(!0,!0,!0,!0),N.viewport(0,0,I,j),N.scissor(0,0,I,j),N.blendFunc(N.ONE,N.ONE),N.blendEquationSeparate(N.FUNC_ADD,me?N.MAX:J.MAX_EXT),N.clear(N.COLOR_BUFFER_BIT),me?N.drawArraysInstanced(N.TRIANGLES,0,3,te.length/4):ie.drawArraysInstancedANGLE(N.TRIANGLES,0,3,te.length/4)})}),Q("post",i,S,function(G){G.setAttribute("aUV",2,N.STATIC_DRAW,0,R),G.setUniform("1i","tex",ee),N.bindFramebuffer(N.FRAMEBUFFER,H),N.disable(N.BLEND),N.colorMask(Y===0,Y===1,Y===2,Y===3),N.viewport(_,B,I,j),N.scissor(_,B,I,j),N.drawArrays(N.TRIANGLES,0,3)})}),N.isContextLost())throw V(),new Error("webgl context lost")})}function X(I){var j=!I||I===E?W:I.canvas||I,m=P.get(j);if(m===void 0){F=!0;var U=null;try{var M=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],L=A(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,I);m=L&&M.length===L.length&&L.every(function(T,H){return T===M[H]}),m||(U="bad trial run results",console.info(M,L))}catch(T){m=!1,U=T.message}U&&console.warn("WebGL SDF generation not supported:",U),F=!1,P.set(j,m)}return m}var z=Object.freeze({__proto__:null,generate:A,generateIntoCanvas:D,generateIntoFramebuffer:k,isSupported:X});function $(I,j,m,U,M,L){M===void 0&&(M=Math.max(U[2]-U[0],U[3]-U[1])/2),L===void 0&&(L=1);try{return A.apply(z,arguments)}catch(T){return console.info("WebGL SDF generation failed, falling back to JS",T),v.apply(y,arguments)}}function oe(I,j,m,U,M,L,T,H,_,B){M===void 0&&(M=Math.max(U[2]-U[0],U[3]-U[1])/2),L===void 0&&(L=1),H===void 0&&(H=0),_===void 0&&(_=0),B===void 0&&(B=0);try{return D.apply(z,arguments)}catch(Y){return console.info("WebGL SDF generation failed, falling back to JS",Y),g.apply(y,arguments)}}return r.forEachPathCommand=t,r.generate=$,r.generateIntoCanvas=oe,r.javascript=y,r.pathToLineSegments=e,r.webgl=z,r.webglUtils=h,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return l}function zo(){var l=function(r){var f={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},u={},t={};u.L=1,t[1]="L",Object.keys(f).forEach(function(V,ne){u[V]=1<<ne+1,t[u[V]]=V}),Object.freeze(u);var e=u.LRI|u.RLI|u.FSI,i=u.L|u.R|u.AL,a=u.B|u.S|u.WS|u.ON|u.FSI|u.LRI|u.RLI|u.PDI,n=u.BN|u.RLE|u.LRE|u.RLO|u.LRO|u.PDF,o=u.S|u.WS|u.B|e|u.PDI|n,s=null;function c(){if(!s){s=new Map;var V=function(ee){if(f.hasOwnProperty(ee)){var G=0;f[ee].split(",").forEach(function(pe){var q=pe.split("+"),ie=q[0],J=q[1];ie=parseInt(ie,36),J=J?parseInt(J,36):0,s.set(G+=ie,u[ee]);for(var be=0;be<J;be++)s.set(++G,u[ee])})}};for(var ne in f)V(ne)}}function d(V){return c(),s.get(V.codePointAt(0))||u.L}function h(V){return t[d(V)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(V,ne){var ee=36,G=0,pe=new Map,q=ne&&new Map,ie;return V.split(",").forEach(function J(be){if(be.indexOf("+")!==-1)for(var ae=+be;ae--;)J(ie);else{ie=be;var se=be.split(">"),ce=se[0],ve=se[1];ce=String.fromCodePoint(G+=parseInt(ce,ee)),ve=String.fromCodePoint(G+=parseInt(ve,ee)),pe.set(ce,ve),ne&&q.set(ve,ce)}}),{map:pe,reverseMap:q}}var p,w,y;function C(){if(!p){var V=g(v.pairs,!0),ne=V.map,ee=V.reverseMap;p=ne,w=ee,y=g(v.canonical,!1).map}}function b(V){return C(),p.get(V)||null}function S(V){return C(),w.get(V)||null}function R(V){return C(),y.get(V)||null}var E=u.L,F=u.R,W=u.EN,P=u.ES,K=u.ET,A=u.AN,D=u.CS,k=u.B,X=u.S,z=u.ON,$=u.BN,oe=u.NSM,I=u.AL,j=u.LRO,m=u.RLO,U=u.LRE,M=u.RLE,L=u.PDF,T=u.LRI,H=u.RLI,_=u.FSI,B=u.PDI;function Y(V,ne){for(var ee=125,G=new Uint32Array(V.length),pe=0;pe<V.length;pe++)G[pe]=d(V[pe]);var q=new Map;function ie(He,et){var Ne=G[He];G[He]=et,q.set(Ne,q.get(Ne)-1),Ne&a&&q.set(a,q.get(a)-1),q.set(et,(q.get(et)||0)+1),et&a&&q.set(a,(q.get(a)||0)+1)}for(var J=new Uint8Array(V.length),be=new Map,ae=[],se=null,ce=0;ce<V.length;ce++)se||ae.push(se={start:ce,end:V.length-1,level:ne==="rtl"?1:ne==="ltr"?0:ln(ce,!1)}),G[ce]&k&&(se.end=ce,se=null);for(var ve=M|U|m|j|e|B|L|k,Se=function(He){return He+(He&1?1:2)},ke=function(He){return He+(He&1?2:1)},xe=0;xe<ae.length;xe++){se=ae[xe];var ye=[{_level:se.level,_override:0,_isolate:0}],ue=void 0,Fe=0,Te=0,We=0;q.clear();for(var Ue=se.start;Ue<=se.end;Ue++){var he=G[Ue];if(ue=ye[ye.length-1],q.set(he,(q.get(he)||0)+1),he&a&&q.set(a,(q.get(a)||0)+1),he&ve)if(he&(M|U)){J[Ue]=ue._level;var we=(he===M?ke:Se)(ue._level);we<=ee&&!Fe&&!Te?ye.push({_level:we,_override:0,_isolate:0}):Fe||Te++}else if(he&(m|j)){J[Ue]=ue._level;var ot=(he===m?ke:Se)(ue._level);ot<=ee&&!Fe&&!Te?ye.push({_level:ot,_override:he&m?F:E,_isolate:0}):Fe||Te++}else if(he&e){he&_&&(he=ln(Ue+1,!0)===1?H:T),J[Ue]=ue._level,ue._override&&ie(Ue,ue._override);var Ae=(he===H?ke:Se)(ue._level);Ae<=ee&&Fe===0&&Te===0?(We++,ye.push({_level:Ae,_override:0,_isolate:1,_isolInitIndex:Ue})):Fe++}else if(he&B){if(Fe>0)Fe--;else if(We>0){for(Te=0;!ye[ye.length-1]._isolate;)ye.pop();var Ce=ye[ye.length-1]._isolInitIndex;Ce!=null&&(be.set(Ce,Ue),be.set(Ue,Ce)),ye.pop(),We--}ue=ye[ye.length-1],J[Ue]=ue._level,ue._override&&ie(Ue,ue._override)}else he&L?(Fe===0&&(Te>0?Te--:!ue._isolate&&ye.length>1&&(ye.pop(),ue=ye[ye.length-1])),J[Ue]=ue._level):he&k&&(J[Ue]=se.level);else J[Ue]=ue._level,ue._override&&he!==$&&ie(Ue,ue._override)}for(var Re=[],Ee=null,ge=se.start;ge<=se.end;ge++){var Me=G[ge];if(!(Me&n)){var Ie=J[ge],je=Me&e,De=Me===B;Ee&&Ie===Ee._level?(Ee._end=ge,Ee._endsWithIsolInit=je):Re.push(Ee={_start:ge,_end:ge,_level:Ie,_startsWithPDI:De,_endsWithIsolInit:je})}}for(var Qe=[],at=0;at<Re.length;at++){var rt=Re[at];if(!rt._startsWithPDI||rt._startsWithPDI&&!be.has(rt._start)){for(var it=[Ee=rt],ft=void 0;Ee&&Ee._endsWithIsolInit&&(ft=be.get(Ee._end))!=null;)for(var nt=at+1;nt<Re.length;nt++)if(Re[nt]._start===ft){it.push(Ee=Re[nt]);break}for(var Be=[],ut=0;ut<it.length;ut++)for(var Wr=it[ut],ar=Wr._start;ar<=Wr._end;ar++)Be.push(ar);for(var so=J[Be[0]],Hr=se.level,jt=Be[0]-1;jt>=0;jt--)if(!(G[jt]&n)){Hr=J[jt];break}var ir=Be[Be.length-1],lo=J[ir],Nr=se.level;if(!(G[ir]&e)){for(var Gt=ir+1;Gt<=se.end;Gt++)if(!(G[Gt]&n)){Nr=J[Gt];break}}Qe.push({_seqIndices:Be,_sosType:Math.max(Hr,so)%2?F:E,_eosType:Math.max(Nr,lo)%2?F:E})}}for(var sr=0;sr<Qe.length;sr++){var lr=Qe[sr],le=lr._seqIndices,bt=lr._sosType,fo=lr._eosType,pt=J[le[0]]&1?F:E;if(q.get(oe))for(var Ot=0;Ot<le.length;Ot++){var zr=le[Ot];if(G[zr]&oe){for(var fr=bt,It=Ot-1;It>=0;It--)if(!(G[le[It]]&n)){fr=G[le[It]];break}ie(zr,fr&(e|B)?z:fr)}}if(q.get(W))for(var Bt=0;Bt<le.length;Bt++){var Vr=le[Bt];if(G[Vr]&W)for(var Wt=Bt-1;Wt>=-1;Wt--){var Zr=Wt===-1?bt:G[le[Wt]];if(Zr&i){Zr===I&&ie(Vr,A);break}}}if(q.get(I))for(var ur=0;ur<le.length;ur++){var Xr=le[ur];G[Xr]&I&&ie(Xr,F)}if(q.get(P)||q.get(D))for(var wt=1;wt<le.length-1;wt++){var cr=le[wt];if(G[cr]&(P|D)){for(var vt=0,dr=0,hr=wt-1;hr>=0&&(vt=G[le[hr]],!!(vt&n));hr--);for(var pr=wt+1;pr<le.length&&(dr=G[le[pr]],!!(dr&n));pr++);vt===dr&&(G[cr]===P?vt===W:vt&(W|A))&&ie(cr,vt)}}if(q.get(W))for(var tt=0;tt<le.length;tt++){var uo=le[tt];if(G[uo]&W){for(var Ht=tt-1;Ht>=0&&G[le[Ht]]&(K|n);Ht--)ie(le[Ht],W);for(tt++;tt<le.length&&G[le[tt]]&(K|n|W);tt++)G[le[tt]]!==W&&ie(le[tt],W)}}if(q.get(K)||q.get(P)||q.get(D))for(var At=0;At<le.length;At++){var Yr=le[At];if(G[Yr]&(K|P|D)){ie(Yr,z);for(var Nt=At-1;Nt>=0&&G[le[Nt]]&n;Nt--)ie(le[Nt],z);for(var zt=At+1;zt<le.length&&G[le[zt]]&n;zt++)ie(le[zt],z)}}if(q.get(W))for(var vr=0,Jr=bt;vr<le.length;vr++){var Kr=le[vr],gr=G[Kr];gr&W?Jr===E&&ie(Kr,E):gr&i&&(Jr=gr)}if(q.get(a)){var St=F|W|A,qr=St|E,Vt=[];{for(var gt=[],mt=0;mt<le.length;mt++)if(G[le[mt]]&a){var Ut=V[le[mt]],Qr=void 0;if(b(Ut)!==null)if(gt.length<63)gt.push({char:Ut,seqIndex:mt});else break;else if((Qr=S(Ut))!==null)for(var Tt=gt.length-1;Tt>=0;Tt--){var mr=gt[Tt].char;if(mr===Qr||mr===S(R(Ut))||b(R(mr))===Ut){Vt.push([gt[Tt].seqIndex,mt]),gt.length=Tt;break}}}Vt.sort(function(He,et){return He[0]-et[0]})}for(var xr=0;xr<Vt.length;xr++){for(var $r=Vt[xr],Zt=$r[0],yr=$r[1],en=!1,$e=0,Cr=Zt+1;Cr<yr;Cr++){var tn=le[Cr];if(G[tn]&qr){en=!0;var rn=G[tn]&St?F:E;if(rn===pt){$e=rn;break}}}if(en&&!$e){$e=bt;for(var br=Zt-1;br>=0;br--){var nn=le[br];if(G[nn]&qr){var on=G[nn]&St?F:E;on!==pt?$e=on:$e=pt;break}}}if($e){if(G[le[Zt]]=G[le[yr]]=$e,$e!==pt){for(var Et=Zt+1;Et<le.length;Et++)if(!(G[le[Et]]&n)){d(V[le[Et]])&oe&&(G[le[Et]]=$e);break}}if($e!==pt){for(var Mt=yr+1;Mt<le.length;Mt++)if(!(G[le[Mt]]&n)){d(V[le[Mt]])&oe&&(G[le[Mt]]=$e);break}}}}for(var st=0;st<le.length;st++)if(G[le[st]]&a){for(var an=st,wr=st,Ar=bt,kt=st-1;kt>=0;kt--)if(G[le[kt]]&n)an=kt;else{Ar=G[le[kt]]&St?F:E;break}for(var sn=fo,Ft=st+1;Ft<le.length;Ft++)if(G[le[Ft]]&(a|n))wr=Ft;else{sn=G[le[Ft]]&St?F:E;break}for(var Sr=an;Sr<=wr;Sr++)G[le[Sr]]=Ar===sn?Ar:pt;st=wr}}}for(var Ze=se.start;Ze<=se.end;Ze++){var co=J[Ze],Xt=G[Ze];if(co&1?Xt&(E|W|A)&&J[Ze]++:Xt&F?J[Ze]++:Xt&(A|W)&&(J[Ze]+=2),Xt&n&&(J[Ze]=Ze===0?se.level:J[Ze-1]),Ze===se.end||d(V[Ze])&(X|k))for(var Yt=Ze;Yt>=0&&d(V[Yt])&o;Yt--)J[Yt]=se.level}}return{levels:J,paragraphs:ae};function ln(He,et){for(var Ne=He;Ne<V.length;Ne++){var lt=G[Ne];if(lt&(F|I))return 1;if(lt&(k|E)||et&&lt===B)return 0;if(lt&e){var fn=ho(Ne);Ne=fn===-1?V.length:fn}}return 0}function ho(He){for(var et=1,Ne=He+1;Ne<V.length;Ne++){var lt=G[Ne];if(lt&k)break;if(lt&B){if(--et===0)return Ne}else lt&e&&et++}return-1}}var te="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Z;function N(){if(!Z){var V=g(te,!0),ne=V.map,ee=V.reverseMap;ee.forEach(function(G,pe){ne.set(pe,G)}),Z=ne}}function me(V){return N(),Z.get(V)||null}function de(V,ne,ee,G){var pe=V.length;ee=Math.max(0,ee==null?0:+ee),G=Math.min(pe-1,G==null?pe-1:+G);for(var q=new Map,ie=ee;ie<=G;ie++)if(ne[ie]&1){var J=me(V[ie]);J!==null&&q.set(ie,J)}return q}function Q(V,ne,ee,G){var pe=V.length;ee=Math.max(0,ee==null?0:+ee),G=Math.min(pe-1,G==null?pe-1:+G);var q=[];return ne.paragraphs.forEach(function(ie){var J=Math.max(ee,ie.start),be=Math.min(G,ie.end);if(J<be){for(var ae=ne.levels.slice(J,be+1),se=be;se>=J&&d(V[se])&o;se--)ae[se]=ie.level;for(var ce=ie.level,ve=1/0,Se=0;Se<ae.length;Se++){var ke=ae[Se];ke>ce&&(ce=ke),ke<ve&&(ve=ke|1)}for(var xe=ce;xe>=ve;xe--)for(var ye=0;ye<ae.length;ye++)if(ae[ye]>=xe){for(var ue=ye;ye+1<ae.length&&ae[ye+1]>=xe;)ye++;ye>ue&&q.push([ue+J,ye+J])}}}),q}function re(V,ne,ee,G){var pe=fe(V,ne,ee,G),q=[].concat(V);return pe.forEach(function(ie,J){q[J]=(ne.levels[ie]&1?me(V[ie]):null)||V[ie]}),q.join("")}function fe(V,ne,ee,G){for(var pe=Q(V,ne,ee,G),q=[],ie=0;ie<V.length;ie++)q[ie]=ie;return pe.forEach(function(J){for(var be=J[0],ae=J[1],se=q.slice(be,ae+1),ce=se.length;ce--;)q[ae-ce]=se[ce]}),q}return r.closingToOpeningBracket=S,r.getBidiCharType=d,r.getBidiCharTypeName=h,r.getCanonicalBracket=R,r.getEmbeddingLevels=Y,r.getMirroredCharacter=me,r.getMirroredCharactersMap=de,r.getReorderSegments=Q,r.getReorderedIndices=fe,r.getReorderedString=re,r.openingToClosingBracket=b,Object.defineProperty(r,"__esModule",{value:!0}),r}({});return l}const Vn=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Rr(l){const r=/^[ \t]*#include +<([\w\d./]+)>/gm;function f(u,t){let e=xo[t];return e?Rr(e):u}return l.replace(r,f)}const Pe=[];for(let l=0;l<256;l++)Pe[l]=(l<16?"0":"")+l.toString(16);function Vo(){const l=Math.random()*4294967295|0,r=Math.random()*4294967295|0,f=Math.random()*4294967295|0,u=Math.random()*4294967295|0;return(Pe[l&255]+Pe[l>>8&255]+Pe[l>>16&255]+Pe[l>>24&255]+"-"+Pe[r&255]+Pe[r>>8&255]+"-"+Pe[r>>16&15|64]+Pe[r>>24&255]+"-"+Pe[f&63|128]+Pe[f>>8&255]+"-"+Pe[f>>16&255]+Pe[f>>24&255]+Pe[u&255]+Pe[u>>8&255]+Pe[u>>16&255]+Pe[u>>24&255]).toUpperCase()}const ct=Object.assign||function(){let l=arguments[0];for(let r=1,f=arguments.length;r<f;r++){let u=arguments[r];if(u)for(let t in u)Object.prototype.hasOwnProperty.call(u,t)&&(l[t]=u[t])}return l},Zo=Date.now(),vn=new WeakMap,gn=new Map;let Xo=1e10;function Dr(l,r){const f=qo(r);let u=vn.get(l);if(u||vn.set(l,u=Object.create(null)),u[f])return new u[f];const t=`_onBeforeCompile${f}`,e=function(o,s){l.onBeforeCompile.call(this,o,s);const c=this.customProgramCacheKey()+"|"+o.vertexShader+"|"+o.fragmentShader;let d=gn[c];if(!d){const h=Yo(this,o,r,f);d=gn[c]=h}o.vertexShader=d.vertexShader,o.fragmentShader=d.fragmentShader,ct(o.uniforms,this.uniforms),r.timeUniform&&(o.uniforms[r.timeUniform]={get value(){return Date.now()-Zo}}),this[t]&&this[t](o)},i=function(){return a(r.chained?l:l.clone())},a=function(o){const s=Object.create(o,n);return Object.defineProperty(s,"baseMaterial",{value:l}),Object.defineProperty(s,"id",{value:Xo++}),s.uuid=Vo(),s.uniforms=ct({},o.uniforms,r.uniforms),s.defines=ct({},o.defines,r.defines),s.defines[`TROIKA_DERIVED_MATERIAL_${f}`]="",s.extensions=ct({},o.extensions,r.extensions),s._listeners=void 0,s},n={constructor:{value:i},isDerivedMaterial:{value:!0},type:{get:()=>l.type,set:o=>{l.type=o}},isDerivedFrom:{writable:!0,configurable:!0,value:function(o){const s=this.baseMaterial;return o===s||s.isDerivedMaterial&&s.isDerivedFrom(o)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return l.customProgramCacheKey()+"|"+f}},onBeforeCompile:{get(){return e},set(o){this[t]=o}},copy:{writable:!0,configurable:!0,value:function(o){return l.copy.call(this,o),!l.isShaderMaterial&&!l.isDerivedMaterial&&(ct(this.extensions,o.extensions),ct(this.defines,o.defines),ct(this.uniforms,mo.clone(o.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const o=new l.constructor;return a(o).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let o=this._depthMaterial;return o||(o=this._depthMaterial=Dr(l.isDerivedMaterial?l.getDepthMaterial():new vo({depthPacking:go}),r),o.defines.IS_DEPTH_MATERIAL="",o.uniforms=this.uniforms),o}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let o=this._distanceMaterial;return o||(o=this._distanceMaterial=Dr(l.isDerivedMaterial?l.getDistanceMaterial():new po,r),o.defines.IS_DISTANCE_MATERIAL="",o.uniforms=this.uniforms),o}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:o,_distanceMaterial:s}=this;o&&o.dispose(),s&&s.dispose(),l.dispose.call(this)}}};return u[f]=i,new i}function Yo(l,{vertexShader:r,fragmentShader:f},u,t){let{vertexDefs:e,vertexMainIntro:i,vertexMainOutro:a,vertexTransform:n,fragmentDefs:o,fragmentMainIntro:s,fragmentMainOutro:c,fragmentColorTransform:d,customRewriter:h,timeUniform:v}=u;if(e=e||"",i=i||"",a=a||"",o=o||"",s=s||"",c=c||"",(n||h)&&(r=Rr(r)),(d||h)&&(f=f.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),f=Rr(f)),h){let g=h({vertexShader:r,fragmentShader:f});r=g.vertexShader,f=g.fragmentShader}if(d){let g=[];f=f.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,p=>(g.push(p),"")),c=`${d}
${g.join(`
`)}
${c}`}if(v){const g=`
uniform float ${v};
`;e=g+e,o=g+o}return n&&(r=`vec3 troika_position_${t};
vec3 troika_normal_${t};
vec2 troika_uv_${t};
${r}
`,e=`${e}
void troikaVertexTransform${t}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${n}
}
`,i=`
troika_position_${t} = vec3(position);
troika_normal_${t} = vec3(normal);
troika_uv_${t} = vec2(uv);
troikaVertexTransform${t}(troika_position_${t}, troika_normal_${t}, troika_uv_${t});
${i}
`,r=r.replace(/\b(position|normal|uv)\b/g,(g,p,w,y)=>/\battribute\s+vec[23]\s+$/.test(y.substr(0,w))?p:`troika_${p}_${t}`),l.map&&l.map.channel>0||(r=r.replace(/\bMAP_UV\b/g,`troika_uv_${t}`))),r=mn(r,t,e,i,a),f=mn(f,t,o,s,c),{vertexShader:r,fragmentShader:f}}function mn(l,r,f,u,t){return(u||t||f)&&(l=l.replace(Vn,`
${f}
void troikaOrigMain${r}() {`),l+=`
void main() {
  ${u}
  troikaOrigMain${r}();
  ${t}
}`),l}function Jo(l,r){return l==="uniforms"?void 0:typeof r=="function"?r.toString():r}let Ko=0;const xn=new Map;function qo(l){const r=JSON.stringify(l,Jo);let f=xn.get(r);return f==null&&xn.set(r,f=++Ko),f}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Qo(){return typeof window>"u"&&(self.window=self),function(l){var r={parse:function(t){var e=r._bin,i=new Uint8Array(t);if(e.readASCII(i,0,4)=="ttcf"){var a=4;e.readUshort(i,a),a+=2,e.readUshort(i,a),a+=2;var n=e.readUint(i,a);a+=4;for(var o=[],s=0;s<n;s++){var c=e.readUint(i,a);a+=4,o.push(r._readFont(i,c))}return o}return[r._readFont(i,0)]},_readFont:function(t,e){var i=r._bin,a=e;i.readFixed(t,e),e+=4;var n=i.readUshort(t,e);e+=2,i.readUshort(t,e),e+=2,i.readUshort(t,e),e+=2,i.readUshort(t,e),e+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:t,_offset:a},c={},d=0;d<n;d++){var h=i.readASCII(t,e,4);e+=4,i.readUint(t,e),e+=4;var v=i.readUint(t,e);e+=4;var g=i.readUint(t,e);e+=4,c[h]={offset:v,length:g}}for(d=0;d<o.length;d++){var p=o[d];c[p]&&(s[p.trim()]=r[p.trim()].parse(t,c[p].offset,c[p].length,s))}return s},_tabOffset:function(t,e,i){for(var a=r._bin,n=a.readUshort(t,i+4),o=i+12,s=0;s<n;s++){var c=a.readASCII(t,o,4);o+=4,a.readUint(t,o),o+=4;var d=a.readUint(t,o);if(o+=4,a.readUint(t,o),o+=4,c==e)return d}return 0}};r._bin={readFixed:function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<8|t[e+3])/65540},readF2dot14:function(t,e){return r._bin.readShort(t,e)/16384},readInt:function(t,e){return r._bin._view(t).getInt32(e)},readInt8:function(t,e){return r._bin._view(t).getInt8(e)},readShort:function(t,e){return r._bin._view(t).getInt16(e)},readUshort:function(t,e){return r._bin._view(t).getUint16(e)},readUshorts:function(t,e,i){for(var a=[],n=0;n<i;n++)a.push(r._bin.readUshort(t,e+2*n));return a},readUint:function(t,e){return r._bin._view(t).getUint32(e)},readUint64:function(t,e){return 4294967296*r._bin.readUint(t,e)+r._bin.readUint(t,e+4)},readASCII:function(t,e,i){for(var a="",n=0;n<i;n++)a+=String.fromCharCode(t[e+n]);return a},readUnicode:function(t,e,i){for(var a="",n=0;n<i;n++){var o=t[e++]<<8|t[e++];a+=String.fromCharCode(o)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(t,e,i){var a=r._bin._tdec;return a&&e==0&&i==t.length?a.decode(t):r._bin.readASCII(t,e,i)},readBytes:function(t,e,i){for(var a=[],n=0;n<i;n++)a.push(t[e+n]);return a},readASCIIArray:function(t,e,i){for(var a=[],n=0;n<i;n++)a.push(String.fromCharCode(t[e+n]));return a},_view:function(t){return t._dataView||(t._dataView=t.buffer?new DataView(t.buffer,t.byteOffset,t.byteLength):new DataView(new Uint8Array(t).buffer))}},r._lctf={},r._lctf.parse=function(t,e,i,a,n){var o=r._bin,s={},c=e;o.readFixed(t,e),e+=4;var d=o.readUshort(t,e);e+=2;var h=o.readUshort(t,e);e+=2;var v=o.readUshort(t,e);return e+=2,s.scriptList=r._lctf.readScriptList(t,c+d),s.featureList=r._lctf.readFeatureList(t,c+h),s.lookupList=r._lctf.readLookupList(t,c+v,n),s},r._lctf.readLookupList=function(t,e,i){var a=r._bin,n=e,o=[],s=a.readUshort(t,e);e+=2;for(var c=0;c<s;c++){var d=a.readUshort(t,e);e+=2;var h=r._lctf.readLookupTable(t,n+d,i);o.push(h)}return o},r._lctf.readLookupTable=function(t,e,i){var a=r._bin,n=e,o={tabs:[]};o.ltype=a.readUshort(t,e),e+=2,o.flag=a.readUshort(t,e),e+=2;var s=a.readUshort(t,e);e+=2;for(var c=o.ltype,d=0;d<s;d++){var h=a.readUshort(t,e);e+=2;var v=i(t,c,n+h,o);o.tabs.push(v)}return o},r._lctf.numOfOnes=function(t){for(var e=0,i=0;i<32;i++)(t>>>i&1)!=0&&e++;return e},r._lctf.readClassDef=function(t,e){var i=r._bin,a=[],n=i.readUshort(t,e);if(e+=2,n==1){var o=i.readUshort(t,e);e+=2;var s=i.readUshort(t,e);e+=2;for(var c=0;c<s;c++)a.push(o+c),a.push(o+c),a.push(i.readUshort(t,e)),e+=2}if(n==2){var d=i.readUshort(t,e);for(e+=2,c=0;c<d;c++)a.push(i.readUshort(t,e)),e+=2,a.push(i.readUshort(t,e)),e+=2,a.push(i.readUshort(t,e)),e+=2}return a},r._lctf.getInterval=function(t,e){for(var i=0;i<t.length;i+=3){var a=t[i],n=t[i+1];if(t[i+2],a<=e&&e<=n)return i}return-1},r._lctf.readCoverage=function(t,e){var i=r._bin,a={};a.fmt=i.readUshort(t,e),e+=2;var n=i.readUshort(t,e);return e+=2,a.fmt==1&&(a.tab=i.readUshorts(t,e,n)),a.fmt==2&&(a.tab=i.readUshorts(t,e,3*n)),a},r._lctf.coverageIndex=function(t,e){var i=t.tab;if(t.fmt==1)return i.indexOf(e);if(t.fmt==2){var a=r._lctf.getInterval(i,e);if(a!=-1)return i[a+2]+(e-i[a])}return-1},r._lctf.readFeatureList=function(t,e){var i=r._bin,a=e,n=[],o=i.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var c=i.readASCII(t,e,4);e+=4;var d=i.readUshort(t,e);e+=2;var h=r._lctf.readFeatureTable(t,a+d);h.tag=c.trim(),n.push(h)}return n},r._lctf.readFeatureTable=function(t,e){var i=r._bin,a=e,n={},o=i.readUshort(t,e);e+=2,o>0&&(n.featureParams=a+o);var s=i.readUshort(t,e);e+=2,n.tab=[];for(var c=0;c<s;c++)n.tab.push(i.readUshort(t,e+2*c));return n},r._lctf.readScriptList=function(t,e){var i=r._bin,a=e,n={},o=i.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var c=i.readASCII(t,e,4);e+=4;var d=i.readUshort(t,e);e+=2,n[c.trim()]=r._lctf.readScriptTable(t,a+d)}return n},r._lctf.readScriptTable=function(t,e){var i=r._bin,a=e,n={},o=i.readUshort(t,e);e+=2,o>0&&(n.default=r._lctf.readLangSysTable(t,a+o));var s=i.readUshort(t,e);e+=2;for(var c=0;c<s;c++){var d=i.readASCII(t,e,4);e+=4;var h=i.readUshort(t,e);e+=2,n[d.trim()]=r._lctf.readLangSysTable(t,a+h)}return n},r._lctf.readLangSysTable=function(t,e){var i=r._bin,a={};i.readUshort(t,e),e+=2,a.reqFeature=i.readUshort(t,e),e+=2;var n=i.readUshort(t,e);return e+=2,a.features=i.readUshorts(t,e,n),a},r.CFF={},r.CFF.parse=function(t,e,i){var a=r._bin;(t=new Uint8Array(t.buffer,e,i))[e=0],t[++e],t[++e],t[++e],e++;var n=[];e=r.CFF.readIndex(t,e,n);for(var o=[],s=0;s<n.length-1;s++)o.push(a.readASCII(t,e+n[s],n[s+1]-n[s]));e+=n[n.length-1];var c=[];e=r.CFF.readIndex(t,e,c);var d=[];for(s=0;s<c.length-1;s++)d.push(r.CFF.readDict(t,e+c[s],e+c[s+1]));e+=c[c.length-1];var h=d[0],v=[];e=r.CFF.readIndex(t,e,v);var g=[];for(s=0;s<v.length-1;s++)g.push(a.readASCII(t,e+v[s],v[s+1]-v[s]));if(e+=v[v.length-1],r.CFF.readSubrs(t,e,h),h.CharStrings){e=h.CharStrings,v=[],e=r.CFF.readIndex(t,e,v);var p=[];for(s=0;s<v.length-1;s++)p.push(a.readBytes(t,e+v[s],v[s+1]-v[s]));h.CharStrings=p}if(h.ROS){e=h.FDArray;var w=[];for(e=r.CFF.readIndex(t,e,w),h.FDArray=[],s=0;s<w.length-1;s++){var y=r.CFF.readDict(t,e+w[s],e+w[s+1]);r.CFF._readFDict(t,y,g),h.FDArray.push(y)}e+=w[w.length-1],e=h.FDSelect,h.FDSelect=[];var C=t[e];if(e++,C!=3)throw C;var b=a.readUshort(t,e);for(e+=2,s=0;s<b+1;s++)h.FDSelect.push(a.readUshort(t,e),t[e+2]),e+=3}return h.Encoding&&(h.Encoding=r.CFF.readEncoding(t,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=r.CFF.readCharset(t,h.charset,h.CharStrings.length)),r.CFF._readFDict(t,h,g),h},r.CFF._readFDict=function(t,e,i){var a;for(var n in e.Private&&(a=e.Private[1],e.Private=r.CFF.readDict(t,a,a+e.Private[0]),e.Private.Subrs&&r.CFF.readSubrs(t,a+e.Private.Subrs,e.Private)),e)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(n)!=-1&&(e[n]=i[e[n]-426+35])},r.CFF.readSubrs=function(t,e,i){var a=r._bin,n=[];e=r.CFF.readIndex(t,e,n);var o,s=n.length;o=s<1240?107:s<33900?1131:32768,i.Bias=o,i.Subrs=[];for(var c=0;c<n.length-1;c++)i.Subrs.push(a.readBytes(t,e+n[c],n[c+1]-n[c]))},r.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],r.CFF.glyphByUnicode=function(t,e){for(var i=0;i<t.charset.length;i++)if(t.charset[i]==e)return i;return-1},r.CFF.glyphBySE=function(t,e){return e<0||e>255?-1:r.CFF.glyphByUnicode(t,r.CFF.tableSE[e])},r.CFF.readEncoding=function(t,e,i){r._bin;var a=[".notdef"],n=t[e];if(e++,n!=0)throw"error: unknown encoding format: "+n;var o=t[e];e++;for(var s=0;s<o;s++)a.push(t[e+s]);return a},r.CFF.readCharset=function(t,e,i){var a=r._bin,n=[".notdef"],o=t[e];if(e++,o==0)for(var s=0;s<i;s++){var c=a.readUshort(t,e);e+=2,n.push(c)}else{if(o!=1&&o!=2)throw"error: format: "+o;for(;n.length<i;){c=a.readUshort(t,e),e+=2;var d=0;for(o==1?(d=t[e],e++):(d=a.readUshort(t,e),e+=2),s=0;s<=d;s++)n.push(c),c++}}return n},r.CFF.readIndex=function(t,e,i){var a=r._bin,n=a.readUshort(t,e)+1,o=t[e+=2];if(e++,o==1)for(var s=0;s<n;s++)i.push(t[e+s]);else if(o==2)for(s=0;s<n;s++)i.push(a.readUshort(t,e+2*s));else if(o==3)for(s=0;s<n;s++)i.push(16777215&a.readUint(t,e+3*s-1));else if(n!=1)throw"unsupported offset size: "+o+", count: "+n;return(e+=n*o)-1},r.CFF.getCharString=function(t,e,i){var a=r._bin,n=t[e],o=t[e+1];t[e+2],t[e+3],t[e+4];var s=1,c=null,d=null;n<=20&&(c=n,s=1),n==12&&(c=100*n+o,s=2),21<=n&&n<=27&&(c=n,s=1),n==28&&(d=a.readShort(t,e+1),s=3),29<=n&&n<=31&&(c=n,s=1),32<=n&&n<=246&&(d=n-139,s=1),247<=n&&n<=250&&(d=256*(n-247)+o+108,s=2),251<=n&&n<=254&&(d=256*-(n-251)-o-108,s=2),n==255&&(d=a.readInt(t,e+1)/65535,s=5),i.val=d??"o"+c,i.size=s},r.CFF.readCharString=function(t,e,i){for(var a=e+i,n=r._bin,o=[];e<a;){var s=t[e],c=t[e+1];t[e+2],t[e+3],t[e+4];var d=1,h=null,v=null;s<=20&&(h=s,d=1),s==12&&(h=100*s+c,d=2),s!=19&&s!=20||(h=s,d=2),21<=s&&s<=27&&(h=s,d=1),s==28&&(v=n.readShort(t,e+1),d=3),29<=s&&s<=31&&(h=s,d=1),32<=s&&s<=246&&(v=s-139,d=1),247<=s&&s<=250&&(v=256*(s-247)+c+108,d=2),251<=s&&s<=254&&(v=256*-(s-251)-c-108,d=2),s==255&&(v=n.readInt(t,e+1)/65535,d=5),o.push(v??"o"+h),e+=d}return o},r.CFF.readDict=function(t,e,i){for(var a=r._bin,n={},o=[];e<i;){var s=t[e],c=t[e+1];t[e+2],t[e+3],t[e+4];var d=1,h=null,v=null;if(s==28&&(v=a.readShort(t,e+1),d=3),s==29&&(v=a.readInt(t,e+1),d=5),32<=s&&s<=246&&(v=s-139,d=1),247<=s&&s<=250&&(v=256*(s-247)+c+108,d=2),251<=s&&s<=254&&(v=256*-(s-251)-c-108,d=2),s==255)throw v=a.readInt(t,e+1)/65535,d=5,"unknown number";if(s==30){var g=[];for(d=1;;){var p=t[e+d];d++;var w=p>>4,y=15&p;if(w!=15&&g.push(w),y!=15&&g.push(y),y==15)break}for(var C="",b=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],S=0;S<g.length;S++)C+=b[g[S]];v=parseFloat(C)}s<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],d=1,s==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][c],d=2)),h!=null?(n[h]=o.length==1?o[0]:o,o=[]):o.push(v),e+=d}return n},r.cmap={},r.cmap.parse=function(t,e,i){t=new Uint8Array(t.buffer,e,i),e=0;var a=r._bin,n={};a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);e+=2;var s=[];n.tables=[];for(var c=0;c<o;c++){var d=a.readUshort(t,e);e+=2;var h=a.readUshort(t,e);e+=2;var v=a.readUint(t,e);e+=4;var g="p"+d+"e"+h,p=s.indexOf(v);if(p==-1){var w;p=n.tables.length,s.push(v);var y=a.readUshort(t,v);y==0?w=r.cmap.parse0(t,v):y==4?w=r.cmap.parse4(t,v):y==6?w=r.cmap.parse6(t,v):y==12?w=r.cmap.parse12(t,v):console.debug("unknown format: "+y,d,h,v),n.tables.push(w)}if(n[g]!=null)throw"multiple tables for one platform+encoding";n[g]=p}return n},r.cmap.parse0=function(t,e){var i=r._bin,a={};a.format=i.readUshort(t,e),e+=2;var n=i.readUshort(t,e);e+=2,i.readUshort(t,e),e+=2,a.map=[];for(var o=0;o<n-6;o++)a.map.push(t[e+o]);return a},r.cmap.parse4=function(t,e){var i=r._bin,a=e,n={};n.format=i.readUshort(t,e),e+=2;var o=i.readUshort(t,e);e+=2,i.readUshort(t,e),e+=2;var s=i.readUshort(t,e);e+=2;var c=s/2;n.searchRange=i.readUshort(t,e),e+=2,n.entrySelector=i.readUshort(t,e),e+=2,n.rangeShift=i.readUshort(t,e),e+=2,n.endCount=i.readUshorts(t,e,c),e+=2*c,e+=2,n.startCount=i.readUshorts(t,e,c),e+=2*c,n.idDelta=[];for(var d=0;d<c;d++)n.idDelta.push(i.readShort(t,e)),e+=2;for(n.idRangeOffset=i.readUshorts(t,e,c),e+=2*c,n.glyphIdArray=[];e<a+o;)n.glyphIdArray.push(i.readUshort(t,e)),e+=2;return n},r.cmap.parse6=function(t,e){var i=r._bin,a={};a.format=i.readUshort(t,e),e+=2,i.readUshort(t,e),e+=2,i.readUshort(t,e),e+=2,a.firstCode=i.readUshort(t,e),e+=2;var n=i.readUshort(t,e);e+=2,a.glyphIdArray=[];for(var o=0;o<n;o++)a.glyphIdArray.push(i.readUshort(t,e)),e+=2;return a},r.cmap.parse12=function(t,e){var i=r._bin,a={};a.format=i.readUshort(t,e),e+=2,e+=2,i.readUint(t,e),e+=4,i.readUint(t,e),e+=4;var n=i.readUint(t,e);e+=4,a.groups=[];for(var o=0;o<n;o++){var s=e+12*o,c=i.readUint(t,s+0),d=i.readUint(t,s+4),h=i.readUint(t,s+8);a.groups.push([c,d,h])}return a},r.glyf={},r.glyf.parse=function(t,e,i,a){for(var n=[],o=0;o<a.maxp.numGlyphs;o++)n.push(null);return n},r.glyf._parseGlyf=function(t,e){var i=r._bin,a=t._data,n=r._tabOffset(a,"glyf",t._offset)+t.loca[e];if(t.loca[e]==t.loca[e+1])return null;var o={};if(o.noc=i.readShort(a,n),n+=2,o.xMin=i.readShort(a,n),n+=2,o.yMin=i.readShort(a,n),n+=2,o.xMax=i.readShort(a,n),n+=2,o.yMax=i.readShort(a,n),n+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(i.readUshort(a,n)),n+=2;var c=i.readUshort(a,n);if(n+=2,a.length-n<c)return null;o.instructions=i.readBytes(a,n,c),n+=c;var d=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<d;s++){var h=a[n];if(n++,o.flags.push(h),(8&h)!=0){var v=a[n];n++;for(var g=0;g<v;g++)o.flags.push(h),s++}}for(o.xs=[],s=0;s<d;s++){var p=(2&o.flags[s])!=0,w=(16&o.flags[s])!=0;p?(o.xs.push(w?a[n]:-a[n]),n++):w?o.xs.push(0):(o.xs.push(i.readShort(a,n)),n+=2)}for(o.ys=[],s=0;s<d;s++)p=(4&o.flags[s])!=0,w=(32&o.flags[s])!=0,p?(o.ys.push(w?a[n]:-a[n]),n++):w?o.ys.push(0):(o.ys.push(i.readShort(a,n)),n+=2);var y=0,C=0;for(s=0;s<d;s++)y+=o.xs[s],C+=o.ys[s],o.xs[s]=y,o.ys[s]=C}else{var b;o.parts=[];do{b=i.readUshort(a,n),n+=2;var S={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(S),S.glyphIndex=i.readUshort(a,n),n+=2,1&b){var R=i.readShort(a,n);n+=2;var E=i.readShort(a,n);n+=2}else R=i.readInt8(a,n),n++,E=i.readInt8(a,n),n++;2&b?(S.m.tx=R,S.m.ty=E):(S.p1=R,S.p2=E),8&b?(S.m.a=S.m.d=i.readF2dot14(a,n),n+=2):64&b?(S.m.a=i.readF2dot14(a,n),n+=2,S.m.d=i.readF2dot14(a,n),n+=2):128&b&&(S.m.a=i.readF2dot14(a,n),n+=2,S.m.b=i.readF2dot14(a,n),n+=2,S.m.c=i.readF2dot14(a,n),n+=2,S.m.d=i.readF2dot14(a,n),n+=2)}while(32&b);if(256&b){var F=i.readUshort(a,n);for(n+=2,o.instr=[],s=0;s<F;s++)o.instr.push(a[n]),n++}}return o},r.GDEF={},r.GDEF.parse=function(t,e,i,a){var n=e;e+=4;var o=r._bin.readUshort(t,e);return{glyphClassDef:o===0?null:r._lctf.readClassDef(t,n+o)}},r.GPOS={},r.GPOS.parse=function(t,e,i,a){return r._lctf.parse(t,e,i,a,r.GPOS.subt)},r.GPOS.subt=function(t,e,i,a){var n=r._bin,o=i,s={};if(s.fmt=n.readUshort(t,i),i+=2,e==1||e==2||e==3||e==7||e==8&&s.fmt<=2){var c=n.readUshort(t,i);i+=2,s.coverage=r._lctf.readCoverage(t,c+o)}if(e==1&&s.fmt==1){var d=n.readUshort(t,i);i+=2,d!=0&&(s.pos=r.GPOS.readValueRecord(t,i,d))}else if(e==2&&s.fmt>=1&&s.fmt<=2){d=n.readUshort(t,i),i+=2;var h=n.readUshort(t,i);i+=2;var v=r._lctf.numOfOnes(d),g=r._lctf.numOfOnes(h);if(s.fmt==1){s.pairsets=[];var p=n.readUshort(t,i);i+=2;for(var w=0;w<p;w++){var y=o+n.readUshort(t,i);i+=2;var C=n.readUshort(t,y);y+=2;for(var b=[],S=0;S<C;S++){var R=n.readUshort(t,y);y+=2,d!=0&&(A=r.GPOS.readValueRecord(t,y,d),y+=2*v),h!=0&&(D=r.GPOS.readValueRecord(t,y,h),y+=2*g),b.push({gid2:R,val1:A,val2:D})}s.pairsets.push(b)}}if(s.fmt==2){var E=n.readUshort(t,i);i+=2;var F=n.readUshort(t,i);i+=2;var W=n.readUshort(t,i);i+=2;var P=n.readUshort(t,i);for(i+=2,s.classDef1=r._lctf.readClassDef(t,o+E),s.classDef2=r._lctf.readClassDef(t,o+F),s.matrix=[],w=0;w<W;w++){var K=[];for(S=0;S<P;S++){var A=null,D=null;d!=0&&(A=r.GPOS.readValueRecord(t,i,d),i+=2*v),h!=0&&(D=r.GPOS.readValueRecord(t,i,h),i+=2*g),K.push({val1:A,val2:D})}s.matrix.push(K)}}}else if(e==4&&s.fmt==1)s.markCoverage=r._lctf.readCoverage(t,n.readUshort(t,i)+o),s.baseCoverage=r._lctf.readCoverage(t,n.readUshort(t,i+2)+o),s.markClassCount=n.readUshort(t,i+4),s.markArray=r.GPOS.readMarkArray(t,n.readUshort(t,i+6)+o),s.baseArray=r.GPOS.readBaseArray(t,n.readUshort(t,i+8)+o,s.markClassCount);else if(e==6&&s.fmt==1)s.mark1Coverage=r._lctf.readCoverage(t,n.readUshort(t,i)+o),s.mark2Coverage=r._lctf.readCoverage(t,n.readUshort(t,i+2)+o),s.markClassCount=n.readUshort(t,i+4),s.mark1Array=r.GPOS.readMarkArray(t,n.readUshort(t,i+6)+o),s.mark2Array=r.GPOS.readBaseArray(t,n.readUshort(t,i+8)+o,s.markClassCount);else{if(e==9&&s.fmt==1){var k=n.readUshort(t,i);i+=2;var X=n.readUint(t,i);if(i+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return r.GPOS.subt(t,a.ltype,o+X)}console.debug("unsupported GPOS table LookupType",e,"format",s.fmt)}return s},r.GPOS.readValueRecord=function(t,e,i){var a=r._bin,n=[];return n.push(1&i?a.readShort(t,e):0),e+=1&i?2:0,n.push(2&i?a.readShort(t,e):0),e+=2&i?2:0,n.push(4&i?a.readShort(t,e):0),e+=4&i?2:0,n.push(8&i?a.readShort(t,e):0),e+=8&i?2:0,n},r.GPOS.readBaseArray=function(t,e,i){var a=r._bin,n=[],o=e,s=a.readUshort(t,e);e+=2;for(var c=0;c<s;c++){for(var d=[],h=0;h<i;h++)d.push(r.GPOS.readAnchorRecord(t,o+a.readUshort(t,e))),e+=2;n.push(d)}return n},r.GPOS.readMarkArray=function(t,e){var i=r._bin,a=[],n=e,o=i.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var c=r.GPOS.readAnchorRecord(t,i.readUshort(t,e+2)+n);c.markClass=i.readUshort(t,e),a.push(c),e+=4}return a},r.GPOS.readAnchorRecord=function(t,e){var i=r._bin,a={};return a.fmt=i.readUshort(t,e),a.x=i.readShort(t,e+2),a.y=i.readShort(t,e+4),a},r.GSUB={},r.GSUB.parse=function(t,e,i,a){return r._lctf.parse(t,e,i,a,r.GSUB.subt)},r.GSUB.subt=function(t,e,i,a){var n=r._bin,o=i,s={};if(s.fmt=n.readUshort(t,i),i+=2,e!=1&&e!=2&&e!=4&&e!=5&&e!=6)return null;if(e==1||e==2||e==4||e==5&&s.fmt<=2||e==6&&s.fmt<=2){var c=n.readUshort(t,i);i+=2,s.coverage=r._lctf.readCoverage(t,o+c)}if(e==1&&s.fmt>=1&&s.fmt<=2){if(s.fmt==1)s.delta=n.readShort(t,i),i+=2;else if(s.fmt==2){var d=n.readUshort(t,i);i+=2,s.newg=n.readUshorts(t,i,d),i+=2*s.newg.length}}else if(e==2&&s.fmt==1){d=n.readUshort(t,i),i+=2,s.seqs=[];for(var h=0;h<d;h++){var v=n.readUshort(t,i)+o;i+=2;var g=n.readUshort(t,v);s.seqs.push(n.readUshorts(t,v+2,g))}}else if(e==4)for(s.vals=[],d=n.readUshort(t,i),i+=2,h=0;h<d;h++){var p=n.readUshort(t,i);i+=2,s.vals.push(r.GSUB.readLigatureSet(t,o+p))}else if(e==5&&s.fmt==2){if(s.fmt==2){var w=n.readUshort(t,i);i+=2,s.cDef=r._lctf.readClassDef(t,o+w),s.scset=[];var y=n.readUshort(t,i);for(i+=2,h=0;h<y;h++){var C=n.readUshort(t,i);i+=2,s.scset.push(C==0?null:r.GSUB.readSubClassSet(t,o+C))}}}else if(e==6&&s.fmt==3){if(s.fmt==3){for(h=0;h<3;h++){d=n.readUshort(t,i),i+=2;for(var b=[],S=0;S<d;S++)b.push(r._lctf.readCoverage(t,o+n.readUshort(t,i+2*S)));i+=2*d,h==0&&(s.backCvg=b),h==1&&(s.inptCvg=b),h==2&&(s.ahedCvg=b)}d=n.readUshort(t,i),i+=2,s.lookupRec=r.GSUB.readSubstLookupRecords(t,i,d)}}else{if(e==7&&s.fmt==1){var R=n.readUshort(t,i);i+=2;var E=n.readUint(t,i);if(i+=4,a.ltype==9)a.ltype=R;else if(a.ltype!=R)throw"invalid extension substitution";return r.GSUB.subt(t,a.ltype,o+E)}console.debug("unsupported GSUB table LookupType",e,"format",s.fmt)}return s},r.GSUB.readSubClassSet=function(t,e){var i=r._bin.readUshort,a=e,n=[],o=i(t,e);e+=2;for(var s=0;s<o;s++){var c=i(t,e);e+=2,n.push(r.GSUB.readSubClassRule(t,a+c))}return n},r.GSUB.readSubClassRule=function(t,e){var i=r._bin.readUshort,a={},n=i(t,e),o=i(t,e+=2);e+=2,a.input=[];for(var s=0;s<n-1;s++)a.input.push(i(t,e)),e+=2;return a.substLookupRecords=r.GSUB.readSubstLookupRecords(t,e,o),a},r.GSUB.readSubstLookupRecords=function(t,e,i){for(var a=r._bin.readUshort,n=[],o=0;o<i;o++)n.push(a(t,e),a(t,e+2)),e+=4;return n},r.GSUB.readChainSubClassSet=function(t,e){var i=r._bin,a=e,n=[],o=i.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var c=i.readUshort(t,e);e+=2,n.push(r.GSUB.readChainSubClassRule(t,a+c))}return n},r.GSUB.readChainSubClassRule=function(t,e){for(var i=r._bin,a={},n=["backtrack","input","lookahead"],o=0;o<n.length;o++){var s=i.readUshort(t,e);e+=2,o==1&&s--,a[n[o]]=i.readUshorts(t,e,s),e+=2*a[n[o]].length}return s=i.readUshort(t,e),e+=2,a.subst=i.readUshorts(t,e,2*s),e+=2*a.subst.length,a},r.GSUB.readLigatureSet=function(t,e){var i=r._bin,a=e,n=[],o=i.readUshort(t,e);e+=2;for(var s=0;s<o;s++){var c=i.readUshort(t,e);e+=2,n.push(r.GSUB.readLigature(t,a+c))}return n},r.GSUB.readLigature=function(t,e){var i=r._bin,a={chain:[]};a.nglyph=i.readUshort(t,e),e+=2;var n=i.readUshort(t,e);e+=2;for(var o=0;o<n-1;o++)a.chain.push(i.readUshort(t,e)),e+=2;return a},r.head={},r.head.parse=function(t,e,i){var a=r._bin,n={};return a.readFixed(t,e),e+=4,n.fontRevision=a.readFixed(t,e),e+=4,a.readUint(t,e),e+=4,a.readUint(t,e),e+=4,n.flags=a.readUshort(t,e),e+=2,n.unitsPerEm=a.readUshort(t,e),e+=2,n.created=a.readUint64(t,e),e+=8,n.modified=a.readUint64(t,e),e+=8,n.xMin=a.readShort(t,e),e+=2,n.yMin=a.readShort(t,e),e+=2,n.xMax=a.readShort(t,e),e+=2,n.yMax=a.readShort(t,e),e+=2,n.macStyle=a.readUshort(t,e),e+=2,n.lowestRecPPEM=a.readUshort(t,e),e+=2,n.fontDirectionHint=a.readShort(t,e),e+=2,n.indexToLocFormat=a.readShort(t,e),e+=2,n.glyphDataFormat=a.readShort(t,e),e+=2,n},r.hhea={},r.hhea.parse=function(t,e,i){var a=r._bin,n={};return a.readFixed(t,e),e+=4,n.ascender=a.readShort(t,e),e+=2,n.descender=a.readShort(t,e),e+=2,n.lineGap=a.readShort(t,e),e+=2,n.advanceWidthMax=a.readUshort(t,e),e+=2,n.minLeftSideBearing=a.readShort(t,e),e+=2,n.minRightSideBearing=a.readShort(t,e),e+=2,n.xMaxExtent=a.readShort(t,e),e+=2,n.caretSlopeRise=a.readShort(t,e),e+=2,n.caretSlopeRun=a.readShort(t,e),e+=2,n.caretOffset=a.readShort(t,e),e+=2,e+=8,n.metricDataFormat=a.readShort(t,e),e+=2,n.numberOfHMetrics=a.readUshort(t,e),e+=2,n},r.hmtx={},r.hmtx.parse=function(t,e,i,a){for(var n=r._bin,o={aWidth:[],lsBearing:[]},s=0,c=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(s=n.readUshort(t,e),e+=2,c=n.readShort(t,e),e+=2),o.aWidth.push(s),o.lsBearing.push(c);return o},r.kern={},r.kern.parse=function(t,e,i,a){var n=r._bin,o=n.readUshort(t,e);if(e+=2,o==1)return r.kern.parseV1(t,e-2,i,a);var s=n.readUshort(t,e);e+=2;for(var c={glyph1:[],rval:[]},d=0;d<s;d++){e+=2,i=n.readUshort(t,e),e+=2;var h=n.readUshort(t,e);e+=2;var v=h>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;e=r.kern.readFormat0(t,e,c)}return c},r.kern.parseV1=function(t,e,i,a){var n=r._bin;n.readFixed(t,e),e+=4;var o=n.readUint(t,e);e+=4;for(var s={glyph1:[],rval:[]},c=0;c<o;c++){n.readUint(t,e),e+=4;var d=n.readUshort(t,e);e+=2,n.readUshort(t,e),e+=2;var h=d>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;e=r.kern.readFormat0(t,e,s)}return s},r.kern.readFormat0=function(t,e,i){var a=r._bin,n=-1,o=a.readUshort(t,e);e+=2,a.readUshort(t,e),e+=2,a.readUshort(t,e),e+=2,a.readUshort(t,e),e+=2;for(var s=0;s<o;s++){var c=a.readUshort(t,e);e+=2;var d=a.readUshort(t,e);e+=2;var h=a.readShort(t,e);e+=2,c!=n&&(i.glyph1.push(c),i.rval.push({glyph2:[],vals:[]}));var v=i.rval[i.rval.length-1];v.glyph2.push(d),v.vals.push(h),n=c}return e},r.loca={},r.loca.parse=function(t,e,i,a){var n=r._bin,o=[],s=a.head.indexToLocFormat,c=a.maxp.numGlyphs+1;if(s==0)for(var d=0;d<c;d++)o.push(n.readUshort(t,e+(d<<1))<<1);if(s==1)for(d=0;d<c;d++)o.push(n.readUint(t,e+(d<<2)));return o},r.maxp={},r.maxp.parse=function(t,e,i){var a=r._bin,n={},o=a.readUint(t,e);return e+=4,n.numGlyphs=a.readUshort(t,e),e+=2,o==65536&&(n.maxPoints=a.readUshort(t,e),e+=2,n.maxContours=a.readUshort(t,e),e+=2,n.maxCompositePoints=a.readUshort(t,e),e+=2,n.maxCompositeContours=a.readUshort(t,e),e+=2,n.maxZones=a.readUshort(t,e),e+=2,n.maxTwilightPoints=a.readUshort(t,e),e+=2,n.maxStorage=a.readUshort(t,e),e+=2,n.maxFunctionDefs=a.readUshort(t,e),e+=2,n.maxInstructionDefs=a.readUshort(t,e),e+=2,n.maxStackElements=a.readUshort(t,e),e+=2,n.maxSizeOfInstructions=a.readUshort(t,e),e+=2,n.maxComponentElements=a.readUshort(t,e),e+=2,n.maxComponentDepth=a.readUshort(t,e),e+=2),n},r.name={},r.name.parse=function(t,e,i){var a=r._bin,n={};a.readUshort(t,e),e+=2;var o=a.readUshort(t,e);e+=2,a.readUshort(t,e);for(var s,c=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=e+=2,h=0;h<o;h++){var v=a.readUshort(t,e);e+=2;var g=a.readUshort(t,e);e+=2;var p=a.readUshort(t,e);e+=2;var w=a.readUshort(t,e);e+=2;var y=a.readUshort(t,e);e+=2;var C=a.readUshort(t,e);e+=2;var b,S=c[w],R=d+12*o+C;if(v==0)b=a.readUnicode(t,R,y/2);else if(v==3&&g==0)b=a.readUnicode(t,R,y/2);else if(g==0)b=a.readASCII(t,R,y);else if(g==1)b=a.readUnicode(t,R,y/2);else if(g==3)b=a.readUnicode(t,R,y/2);else{if(v!=1)throw"unknown encoding "+g+", platformID: "+v;b=a.readASCII(t,R,y),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var E="p"+v+","+p.toString(16);n[E]==null&&(n[E]={}),n[E][S!==void 0?S:w]=b,n[E]._lang=p}for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==1033)return n[F];for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==0)return n[F];for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==3084)return n[F];for(var F in n)if(n[F].postScriptName!=null)return n[F];for(var F in n){s=F;break}return console.debug("returning name table with languageID "+n[s]._lang),n[s]},r["OS/2"]={},r["OS/2"].parse=function(t,e,i){var a=r._bin.readUshort(t,e);e+=2;var n={};if(a==0)r["OS/2"].version0(t,e,n);else if(a==1)r["OS/2"].version1(t,e,n);else if(a==2||a==3||a==4)r["OS/2"].version2(t,e,n);else{if(a!=5)throw"unknown OS/2 table version: "+a;r["OS/2"].version5(t,e,n)}return n},r["OS/2"].version0=function(t,e,i){var a=r._bin;return i.xAvgCharWidth=a.readShort(t,e),e+=2,i.usWeightClass=a.readUshort(t,e),e+=2,i.usWidthClass=a.readUshort(t,e),e+=2,i.fsType=a.readUshort(t,e),e+=2,i.ySubscriptXSize=a.readShort(t,e),e+=2,i.ySubscriptYSize=a.readShort(t,e),e+=2,i.ySubscriptXOffset=a.readShort(t,e),e+=2,i.ySubscriptYOffset=a.readShort(t,e),e+=2,i.ySuperscriptXSize=a.readShort(t,e),e+=2,i.ySuperscriptYSize=a.readShort(t,e),e+=2,i.ySuperscriptXOffset=a.readShort(t,e),e+=2,i.ySuperscriptYOffset=a.readShort(t,e),e+=2,i.yStrikeoutSize=a.readShort(t,e),e+=2,i.yStrikeoutPosition=a.readShort(t,e),e+=2,i.sFamilyClass=a.readShort(t,e),e+=2,i.panose=a.readBytes(t,e,10),e+=10,i.ulUnicodeRange1=a.readUint(t,e),e+=4,i.ulUnicodeRange2=a.readUint(t,e),e+=4,i.ulUnicodeRange3=a.readUint(t,e),e+=4,i.ulUnicodeRange4=a.readUint(t,e),e+=4,i.achVendID=[a.readInt8(t,e),a.readInt8(t,e+1),a.readInt8(t,e+2),a.readInt8(t,e+3)],e+=4,i.fsSelection=a.readUshort(t,e),e+=2,i.usFirstCharIndex=a.readUshort(t,e),e+=2,i.usLastCharIndex=a.readUshort(t,e),e+=2,i.sTypoAscender=a.readShort(t,e),e+=2,i.sTypoDescender=a.readShort(t,e),e+=2,i.sTypoLineGap=a.readShort(t,e),e+=2,i.usWinAscent=a.readUshort(t,e),e+=2,i.usWinDescent=a.readUshort(t,e),e+=2},r["OS/2"].version1=function(t,e,i){var a=r._bin;return e=r["OS/2"].version0(t,e,i),i.ulCodePageRange1=a.readUint(t,e),e+=4,i.ulCodePageRange2=a.readUint(t,e),e+=4},r["OS/2"].version2=function(t,e,i){var a=r._bin;return e=r["OS/2"].version1(t,e,i),i.sxHeight=a.readShort(t,e),e+=2,i.sCapHeight=a.readShort(t,e),e+=2,i.usDefault=a.readUshort(t,e),e+=2,i.usBreak=a.readUshort(t,e),e+=2,i.usMaxContext=a.readUshort(t,e),e+=2},r["OS/2"].version5=function(t,e,i){var a=r._bin;return e=r["OS/2"].version2(t,e,i),i.usLowerOpticalPointSize=a.readUshort(t,e),e+=2,i.usUpperOpticalPointSize=a.readUshort(t,e),e+=2},r.post={},r.post.parse=function(t,e,i){var a=r._bin,n={};return n.version=a.readFixed(t,e),e+=4,n.italicAngle=a.readFixed(t,e),e+=4,n.underlinePosition=a.readShort(t,e),e+=2,n.underlineThickness=a.readShort(t,e),e+=2,n},r==null&&(r={}),r.U==null&&(r.U={}),r.U.codeToGlyph=function(t,e){var i=t.cmap,a=-1;if(i.p0e4!=null?a=i.p0e4:i.p3e1!=null?a=i.p3e1:i.p1e0!=null?a=i.p1e0:i.p0e3!=null&&(a=i.p0e3),a==-1)throw"no familiar platform and encoding!";var n=i.tables[a];if(n.format==0)return e>=n.map.length?0:n.map[e];if(n.format==4){for(var o=-1,s=0;s<n.endCount.length;s++)if(e<=n.endCount[s]){o=s;break}return o==-1||n.startCount[o]>e?0:65535&(n.idRangeOffset[o]!=0?n.glyphIdArray[e-n.startCount[o]+(n.idRangeOffset[o]>>1)-(n.idRangeOffset.length-o)]:e+n.idDelta[o])}if(n.format==12){if(e>n.groups[n.groups.length-1][1])return 0;for(s=0;s<n.groups.length;s++){var c=n.groups[s];if(c[0]<=e&&e<=c[1])return c[2]+(e-c[0])}return 0}throw"unknown cmap table format "+n.format},r.U.glyphToPath=function(t,e){var i={cmds:[],crds:[]};if(t.SVG&&t.SVG.entries[e]){var a=t.SVG.entries[e];return a==null?i:(typeof a=="string"&&(a=r.SVG.toPath(a),t.SVG.entries[e]=a),a)}if(t.CFF){var n={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:t.CFF.Private?t.CFF.Private.defaultWidthX:0,open:!1},o=t.CFF,s=t.CFF.Private;if(o.ROS){for(var c=0;o.FDSelect[c+2]<=e;)c+=2;s=o.FDArray[o.FDSelect[c+1]].Private}r.U._drawCFF(t.CFF.CharStrings[e],n,o,s,i)}else t.glyf&&r.U._drawGlyf(e,t,i);return i},r.U._drawGlyf=function(t,e,i){var a=e.glyf[t];a==null&&(a=e.glyf[t]=r.glyf._parseGlyf(e,t)),a!=null&&(a.noc>-1?r.U._simpleGlyph(a,i):r.U._compoGlyph(a,e,i))},r.U._simpleGlyph=function(t,e){for(var i=0;i<t.noc;i++){for(var a=i==0?0:t.endPts[i-1]+1,n=t.endPts[i],o=a;o<=n;o++){var s=o==a?n:o-1,c=o==n?a:o+1,d=1&t.flags[o],h=1&t.flags[s],v=1&t.flags[c],g=t.xs[o],p=t.ys[o];if(o==a)if(d){if(!h){r.U.P.moveTo(e,g,p);continue}r.U.P.moveTo(e,t.xs[s],t.ys[s])}else h?r.U.P.moveTo(e,t.xs[s],t.ys[s]):r.U.P.moveTo(e,(t.xs[s]+g)/2,(t.ys[s]+p)/2);d?h&&r.U.P.lineTo(e,g,p):v?r.U.P.qcurveTo(e,g,p,t.xs[c],t.ys[c]):r.U.P.qcurveTo(e,g,p,(g+t.xs[c])/2,(p+t.ys[c])/2)}r.U.P.closePath(e)}},r.U._compoGlyph=function(t,e,i){for(var a=0;a<t.parts.length;a++){var n={cmds:[],crds:[]},o=t.parts[a];r.U._drawGlyf(o.glyphIndex,e,n);for(var s=o.m,c=0;c<n.crds.length;c+=2){var d=n.crds[c],h=n.crds[c+1];i.crds.push(d*s.a+h*s.b+s.tx),i.crds.push(d*s.c+h*s.d+s.ty)}for(c=0;c<n.cmds.length;c++)i.cmds.push(n.cmds[c])}},r.U._getGlyphClass=function(t,e){var i=r._lctf.getInterval(e,t);return i==-1?0:e[i+2]},r.U._applySubs=function(t,e,i,a){for(var n=t.length-e-1,o=0;o<i.tabs.length;o++)if(i.tabs[o]!=null){var s,c=i.tabs[o];if(!c.coverage||(s=r._lctf.coverageIndex(c.coverage,t[e]))!=-1){if(i.ltype==1)t[e],c.fmt==1?t[e]=t[e]+c.delta:t[e]=c.newg[s];else if(i.ltype==4)for(var d=c.vals[s],h=0;h<d.length;h++){var v=d[h],g=v.chain.length;if(!(g>n)){for(var p=!0,w=0,y=0;y<g;y++){for(;t[e+w+(1+y)]==-1;)w++;v.chain[y]!=t[e+w+(1+y)]&&(p=!1)}if(p){for(t[e]=v.nglyph,y=0;y<g+w;y++)t[e+y+1]=-1;break}}}else if(i.ltype==5&&c.fmt==2)for(var C=r._lctf.getInterval(c.cDef,t[e]),b=c.cDef[C+2],S=c.scset[b],R=0;R<S.length;R++){var E=S[R],F=E.input;if(!(F.length>n)){for(p=!0,y=0;y<F.length;y++){var W=r._lctf.getInterval(c.cDef,t[e+1+y]);if(C==-1&&c.cDef[W+2]!=F[y]){p=!1;break}}if(p){var P=E.substLookupRecords;for(h=0;h<P.length;h+=2)P[h],P[h+1]}}}else if(i.ltype==6&&c.fmt==3){if(!r.U._glsCovered(t,c.backCvg,e-c.backCvg.length)||!r.U._glsCovered(t,c.inptCvg,e)||!r.U._glsCovered(t,c.ahedCvg,e+c.inptCvg.length))continue;var K=c.lookupRec;for(R=0;R<K.length;R+=2){C=K[R];var A=a[K[R+1]];r.U._applySubs(t,e+C,A,a)}}}}},r.U._glsCovered=function(t,e,i){for(var a=0;a<e.length;a++)if(r._lctf.coverageIndex(e[a],t[i+a])==-1)return!1;return!0},r.U.glyphsToPath=function(t,e,i){for(var a={cmds:[],crds:[]},n=0,o=0;o<e.length;o++){var s=e[o];if(s!=-1){for(var c=o<e.length-1&&e[o+1]!=-1?e[o+1]:0,d=r.U.glyphToPath(t,s),h=0;h<d.crds.length;h+=2)a.crds.push(d.crds[h]+n),a.crds.push(d.crds[h+1]);for(i&&a.cmds.push(i),h=0;h<d.cmds.length;h++)a.cmds.push(d.cmds[h]);i&&a.cmds.push("X"),n+=t.hmtx.aWidth[s],o<e.length-1&&(n+=r.U.getPairAdjustment(t,s,c))}}return a},r.U.P={},r.U.P.moveTo=function(t,e,i){t.cmds.push("M"),t.crds.push(e,i)},r.U.P.lineTo=function(t,e,i){t.cmds.push("L"),t.crds.push(e,i)},r.U.P.curveTo=function(t,e,i,a,n,o,s){t.cmds.push("C"),t.crds.push(e,i,a,n,o,s)},r.U.P.qcurveTo=function(t,e,i,a,n){t.cmds.push("Q"),t.crds.push(e,i,a,n)},r.U.P.closePath=function(t){t.cmds.push("Z")},r.U._drawCFF=function(t,e,i,a,n){for(var o=e.stack,s=e.nStems,c=e.haveWidth,d=e.width,h=e.open,v=0,g=e.x,p=e.y,w=0,y=0,C=0,b=0,S=0,R=0,E=0,F=0,W=0,P=0,K={val:0,size:0};v<t.length;){r.CFF.getCharString(t,v,K);var A=K.val;if(v+=K.size,A=="o1"||A=="o18")o.length%2!=0&&!c&&(d=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if(A=="o3"||A=="o23")o.length%2!=0&&!c&&(d=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if(A=="o4")o.length>1&&!c&&(d=o.shift()+a.nominalWidthX,c=!0),h&&r.U.P.closePath(n),p+=o.pop(),r.U.P.moveTo(n,g,p),h=!0;else if(A=="o5")for(;o.length>0;)g+=o.shift(),p+=o.shift(),r.U.P.lineTo(n,g,p);else if(A=="o6"||A=="o7")for(var D=o.length,k=A=="o6",X=0;X<D;X++){var z=o.shift();k?g+=z:p+=z,k=!k,r.U.P.lineTo(n,g,p)}else if(A=="o8"||A=="o24"){D=o.length;for(var $=0;$+6<=D;)w=g+o.shift(),y=p+o.shift(),C=w+o.shift(),b=y+o.shift(),g=C+o.shift(),p=b+o.shift(),r.U.P.curveTo(n,w,y,C,b,g,p),$+=6;A=="o24"&&(g+=o.shift(),p+=o.shift(),r.U.P.lineTo(n,g,p))}else{if(A=="o11")break;if(A=="o1234"||A=="o1235"||A=="o1236"||A=="o1237")A=="o1234"&&(y=p,C=(w=g+o.shift())+o.shift(),P=b=y+o.shift(),R=b,F=p,g=(E=(S=(W=C+o.shift())+o.shift())+o.shift())+o.shift(),r.U.P.curveTo(n,w,y,C,b,W,P),r.U.P.curveTo(n,S,R,E,F,g,p)),A=="o1235"&&(w=g+o.shift(),y=p+o.shift(),C=w+o.shift(),b=y+o.shift(),W=C+o.shift(),P=b+o.shift(),S=W+o.shift(),R=P+o.shift(),E=S+o.shift(),F=R+o.shift(),g=E+o.shift(),p=F+o.shift(),o.shift(),r.U.P.curveTo(n,w,y,C,b,W,P),r.U.P.curveTo(n,S,R,E,F,g,p)),A=="o1236"&&(w=g+o.shift(),y=p+o.shift(),C=w+o.shift(),P=b=y+o.shift(),R=b,E=(S=(W=C+o.shift())+o.shift())+o.shift(),F=R+o.shift(),g=E+o.shift(),r.U.P.curveTo(n,w,y,C,b,W,P),r.U.P.curveTo(n,S,R,E,F,g,p)),A=="o1237"&&(w=g+o.shift(),y=p+o.shift(),C=w+o.shift(),b=y+o.shift(),W=C+o.shift(),P=b+o.shift(),S=W+o.shift(),R=P+o.shift(),E=S+o.shift(),F=R+o.shift(),Math.abs(E-g)>Math.abs(F-p)?g=E+o.shift():p=F+o.shift(),r.U.P.curveTo(n,w,y,C,b,W,P),r.U.P.curveTo(n,S,R,E,F,g,p));else if(A=="o14"){if(o.length>0&&!c&&(d=o.shift()+i.nominalWidthX,c=!0),o.length==4){var oe=o.shift(),I=o.shift(),j=o.shift(),m=o.shift(),U=r.CFF.glyphBySE(i,j),M=r.CFF.glyphBySE(i,m);r.U._drawCFF(i.CharStrings[U],e,i,a,n),e.x=oe,e.y=I,r.U._drawCFF(i.CharStrings[M],e,i,a,n)}h&&(r.U.P.closePath(n),h=!1)}else if(A=="o19"||A=="o20")o.length%2!=0&&!c&&(d=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0,v+=s+7>>3;else if(A=="o21")o.length>2&&!c&&(d=o.shift()+a.nominalWidthX,c=!0),p+=o.pop(),g+=o.pop(),h&&r.U.P.closePath(n),r.U.P.moveTo(n,g,p),h=!0;else if(A=="o22")o.length>1&&!c&&(d=o.shift()+a.nominalWidthX,c=!0),g+=o.pop(),h&&r.U.P.closePath(n),r.U.P.moveTo(n,g,p),h=!0;else if(A=="o25"){for(;o.length>6;)g+=o.shift(),p+=o.shift(),r.U.P.lineTo(n,g,p);w=g+o.shift(),y=p+o.shift(),C=w+o.shift(),b=y+o.shift(),g=C+o.shift(),p=b+o.shift(),r.U.P.curveTo(n,w,y,C,b,g,p)}else if(A=="o26")for(o.length%2&&(g+=o.shift());o.length>0;)w=g,y=p+o.shift(),g=C=w+o.shift(),p=(b=y+o.shift())+o.shift(),r.U.P.curveTo(n,w,y,C,b,g,p);else if(A=="o27")for(o.length%2&&(p+=o.shift());o.length>0;)y=p,C=(w=g+o.shift())+o.shift(),b=y+o.shift(),g=C+o.shift(),p=b,r.U.P.curveTo(n,w,y,C,b,g,p);else if(A=="o10"||A=="o29"){var L=A=="o10"?a:i;if(o.length==0)console.debug("error: empty stack");else{var T=o.pop(),H=L.Subrs[T+L.Bias];e.x=g,e.y=p,e.nStems=s,e.haveWidth=c,e.width=d,e.open=h,r.U._drawCFF(H,e,i,a,n),g=e.x,p=e.y,s=e.nStems,c=e.haveWidth,d=e.width,h=e.open}}else if(A=="o30"||A=="o31"){var _=o.length,B=($=0,A=="o31");for($+=_-(D=-3&_);$<D;)B?(y=p,C=(w=g+o.shift())+o.shift(),p=(b=y+o.shift())+o.shift(),D-$==5?(g=C+o.shift(),$++):g=C,B=!1):(w=g,y=p+o.shift(),C=w+o.shift(),b=y+o.shift(),g=C+o.shift(),D-$==5?(p=b+o.shift(),$++):p=b,B=!0),r.U.P.curveTo(n,w,y,C,b,g,p),$+=4}else{if((A+"").charAt(0)=="o")throw console.debug("Unknown operation: "+A,t),A;o.push(A)}}}e.x=g,e.y=p,e.nStems=s,e.haveWidth=c,e.width=d,e.open=h};var f=r,u={Typr:f};return l.Typr=f,l.default=u,Object.defineProperty(l,"__esModule",{value:!0}),l}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function $o(){return function(l){var r=Uint8Array,f=Uint16Array,u=Uint32Array,t=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(A,D){for(var k=new f(31),X=0;X<31;++X)k[X]=D+=1<<A[X-1];var z=new u(k[30]);for(X=1;X<30;++X)for(var $=k[X];$<k[X+1];++$)z[$]=$-k[X]<<5|X;return[k,z]},n=a(t,2),o=n[0],s=n[1];o[28]=258,s[258]=28;for(var c=a(e,0)[0],d=new f(32768),h=0;h<32768;++h){var v=(43690&h)>>>1|(21845&h)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,d[h]=((65280&v)>>>8|(255&v)<<8)>>>1}var g=function(A,D,k){for(var X=A.length,z=0,$=new f(D);z<X;++z)++$[A[z]-1];var oe,I=new f(D);for(z=0;z<D;++z)I[z]=I[z-1]+$[z-1]<<1;{oe=new f(1<<D);var j=15-D;for(z=0;z<X;++z)if(A[z])for(var m=z<<4|A[z],U=D-A[z],M=I[A[z]-1]++<<U,L=M|(1<<U)-1;M<=L;++M)oe[d[M]>>>j]=m}return oe},p=new r(288);for(h=0;h<144;++h)p[h]=8;for(h=144;h<256;++h)p[h]=9;for(h=256;h<280;++h)p[h]=7;for(h=280;h<288;++h)p[h]=8;var w=new r(32);for(h=0;h<32;++h)w[h]=5;var y=g(p,9),C=g(w,5),b=function(A){for(var D=A[0],k=1;k<A.length;++k)A[k]>D&&(D=A[k]);return D},S=function(A,D,k){var X=D/8|0;return(A[X]|A[X+1]<<8)>>(7&D)&k},R=function(A,D){var k=D/8|0;return(A[k]|A[k+1]<<8|A[k+2]<<16)>>(7&D)},E=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],F=function(A,D,k){var X=new Error(D||E[A]);if(X.code=A,Error.captureStackTrace&&Error.captureStackTrace(X,F),!k)throw X;return X},W=function(A,D,k){var X=A.length;if(!X||k&&!k.l&&X<5)return D||new r(0);var z=!D||k,$=!k||k.i;k||(k={}),D||(D=new r(3*X));var oe,I=function(ue){var Fe=D.length;if(ue>Fe){var Te=new r(Math.max(2*Fe,ue));Te.set(D),D=Te}},j=k.f||0,m=k.p||0,U=k.b||0,M=k.l,L=k.d,T=k.m,H=k.n,_=8*X;do{if(!M){k.f=j=S(A,m,1);var B=S(A,m+1,3);if(m+=3,!B){var Y=A[(ee=((oe=m)/8|0)+(7&oe&&1)+4)-4]|A[ee-3]<<8,te=ee+Y;if(te>X){$&&F(0);break}z&&I(U+Y),D.set(A.subarray(ee,te),U),k.b=U+=Y,k.p=m=8*te;continue}if(B==1)M=y,L=C,T=9,H=5;else if(B==2){var Z=S(A,m,31)+257,N=S(A,m+10,15)+4,me=Z+S(A,m+5,31)+1;m+=14;for(var de=new r(me),Q=new r(19),re=0;re<N;++re)Q[i[re]]=S(A,m+3*re,7);m+=3*N;var fe=b(Q),V=(1<<fe)-1,ne=g(Q,fe);for(re=0;re<me;){var ee,G=ne[S(A,m,V)];if(m+=15&G,(ee=G>>>4)<16)de[re++]=ee;else{var pe=0,q=0;for(ee==16?(q=3+S(A,m,3),m+=2,pe=de[re-1]):ee==17?(q=3+S(A,m,7),m+=3):ee==18&&(q=11+S(A,m,127),m+=7);q--;)de[re++]=pe}}var ie=de.subarray(0,Z),J=de.subarray(Z);T=b(ie),H=b(J),M=g(ie,T),L=g(J,H)}else F(1);if(m>_){$&&F(0);break}}z&&I(U+131072);for(var be=(1<<T)-1,ae=(1<<H)-1,se=m;;se=m){var ce=(pe=M[R(A,m)&be])>>>4;if((m+=15&pe)>_){$&&F(0);break}if(pe||F(2),ce<256)D[U++]=ce;else{if(ce==256){se=m,M=null;break}var ve=ce-254;if(ce>264){var Se=t[re=ce-257];ve=S(A,m,(1<<Se)-1)+o[re],m+=Se}var ke=L[R(A,m)&ae],xe=ke>>>4;if(ke||F(3),m+=15&ke,J=c[xe],xe>3&&(Se=e[xe],J+=R(A,m)&(1<<Se)-1,m+=Se),m>_){$&&F(0);break}z&&I(U+131072);for(var ye=U+ve;U<ye;U+=4)D[U]=D[U-J],D[U+1]=D[U+1-J],D[U+2]=D[U+2-J],D[U+3]=D[U+3-J];U=ye}}k.l=M,k.p=se,k.b=U,M&&(j=1,k.m=T,k.d=L,k.n=H)}while(!j);return U==D.length?D:function(ue,Fe,Te){(Te==null||Te>ue.length)&&(Te=ue.length);var We=new(ue instanceof f?f:ue instanceof u?u:r)(Te-Fe);return We.set(ue.subarray(Fe,Te)),We}(D,0,U)},P=new r(0),K=typeof TextDecoder<"u"&&new TextDecoder;try{K.decode(P,{stream:!0})}catch{}return l.convert_streams=function(A){var D=new DataView(A),k=0;function X(){var Z=D.getUint16(k);return k+=2,Z}function z(){var Z=D.getUint32(k);return k+=4,Z}function $(Z){Y.setUint16(te,Z),te+=2}function oe(Z){Y.setUint32(te,Z),te+=4}for(var I={signature:z(),flavor:z(),length:z(),numTables:X(),reserved:X(),totalSfntSize:z(),majorVersion:X(),minorVersion:X(),metaOffset:z(),metaLength:z(),metaOrigLength:z(),privOffset:z(),privLength:z()},j=0;Math.pow(2,j)<=I.numTables;)j++;j--;for(var m=16*Math.pow(2,j),U=16*I.numTables-m,M=12,L=[],T=0;T<I.numTables;T++)L.push({tag:z(),offset:z(),compLength:z(),origLength:z(),origChecksum:z()}),M+=16;var H,_=new Uint8Array(12+16*L.length+L.reduce(function(Z,N){return Z+N.origLength+4},0)),B=_.buffer,Y=new DataView(B),te=0;return oe(I.flavor),$(I.numTables),$(m),$(j),$(U),L.forEach(function(Z){oe(Z.tag),oe(Z.origChecksum),oe(M),oe(Z.origLength),Z.outOffset=M,(M+=Z.origLength)%4!=0&&(M+=4-M%4)}),L.forEach(function(Z){var N,me=A.slice(Z.offset,Z.offset+Z.compLength);if(Z.compLength!=Z.origLength){var de=new Uint8Array(Z.origLength);N=new Uint8Array(me,2),W(N,de)}else de=new Uint8Array(me);_.set(de,Z.outOffset);var Q=0;(M=Z.outOffset+Z.origLength)%4!=0&&(Q=4-M%4),_.set(new Uint8Array(Q).buffer,Z.outOffset+Z.origLength),H=M+Q}),B.slice(0,H)},Object.defineProperty(l,"__esModule",{value:!0}),l}({}).convert_streams}function ea(l,r){const f={M:2,L:2,Q:4,C:6,Z:0},u={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},t=1,e=2,i=4,a=8,n=16,o=32;let s;function c(E){if(!s){const F={R:e,L:t,D:i,C:n,U:o,T:a};s=new Map;for(let W in u){let P=0;u[W].split(",").forEach(K=>{let[A,D]=K.split("+");A=parseInt(A,36),D=D?parseInt(D,36):0,s.set(P+=A,F[W]);for(let k=D;k--;)s.set(++P,F[W])})}}return s.get(E)||o}const d=1,h=2,v=3,g=4,p=[null,"isol","init","fina","medi"];function w(E){const F=new Uint8Array(E.length);let W=o,P=d,K=-1;for(let A=0;A<E.length;A++){const D=E.codePointAt(A);let k=c(D)|0,X=d;k&a||(W&(t|i|n)?k&(e|i|n)?(X=v,(P===d||P===v)&&F[K]++):k&(t|o)&&(P===h||P===g)&&F[K]--:W&(e|o)&&(P===h||P===g)&&F[K]--,P=F[A]=X,W=k,K=A,D>65535&&A++)}return F}function y(E,F){const W=[];for(let K=0;K<F.length;K++){const A=F.codePointAt(K);A>65535&&K++,W.push(l.U.codeToGlyph(E,A))}const P=E.GSUB;if(P){const{lookupList:K,featureList:A}=P;let D;const k=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,X=[];A.forEach(z=>{if(k.test(z.tag))for(let $=0;$<z.tab.length;$++){if(X[z.tab[$]])continue;X[z.tab[$]]=!0;const oe=K[z.tab[$]],I=/^(isol|init|fina|medi)$/.test(z.tag);I&&!D&&(D=w(F));for(let j=0;j<W.length;j++)(!D||!I||p[D[j]]===z.tag)&&l.U._applySubs(W,j,oe,K)}})}return W}function C(E,F){const W=new Int16Array(F.length*3);let P=0;for(;P<F.length;P++){const k=F[P];if(k===-1)continue;W[P*3+2]=E.hmtx.aWidth[k];const X=E.GPOS;if(X){const z=X.lookupList;for(let $=0;$<z.length;$++){const oe=z[$];for(let I=0;I<oe.tabs.length;I++){const j=oe.tabs[I];if(oe.ltype===1){if(l._lctf.coverageIndex(j.coverage,k)!==-1&&j.pos){D(j.pos,P);break}}else if(oe.ltype===2){let m=null,U=K();if(U!==-1){const M=l._lctf.coverageIndex(j.coverage,F[U]);if(M!==-1){if(j.fmt===1){const L=j.pairsets[M];for(let T=0;T<L.length;T++)L[T].gid2===k&&(m=L[T])}else if(j.fmt===2){const L=l.U._getGlyphClass(F[U],j.classDef1),T=l.U._getGlyphClass(k,j.classDef2);m=j.matrix[L][T]}if(m){m.val1&&D(m.val1,U),m.val2&&D(m.val2,P);break}}}}else if(oe.ltype===4){const m=l._lctf.coverageIndex(j.markCoverage,k);if(m!==-1){const U=K(A),M=U===-1?-1:l._lctf.coverageIndex(j.baseCoverage,F[U]);if(M!==-1){const L=j.markArray[m],T=j.baseArray[M][L.markClass];W[P*3]=T.x-L.x+W[U*3]-W[U*3+2],W[P*3+1]=T.y-L.y+W[U*3+1];break}}}else if(oe.ltype===6){const m=l._lctf.coverageIndex(j.mark1Coverage,k);if(m!==-1){const U=K();if(U!==-1){const M=F[U];if(b(E,M)===3){const L=l._lctf.coverageIndex(j.mark2Coverage,M);if(L!==-1){const T=j.mark1Array[m],H=j.mark2Array[L][T.markClass];W[P*3]=H.x-T.x+W[U*3]-W[U*3+2],W[P*3+1]=H.y-T.y+W[U*3+1];break}}}}}}}}else if(E.kern&&!E.cff){const z=K();if(z!==-1){const $=E.kern.glyph1.indexOf(F[z]);if($!==-1){const oe=E.kern.rval[$].glyph2.indexOf(k);oe!==-1&&(W[z*3+2]+=E.kern.rval[$].vals[oe])}}}}return W;function K(k){for(let X=P-1;X>=0;X--)if(F[X]!==-1&&(!k||k(F[X])))return X;return-1}function A(k){return b(E,k)===1}function D(k,X){for(let z=0;z<3;z++)W[X*3+z]+=k[z]||0}}function b(E,F){const W=E.GDEF&&E.GDEF.glyphClassDef;return W?l.U._getGlyphClass(F,W):0}function S(...E){for(let F=0;F<E.length;F++)if(typeof E[F]=="number")return E[F]}function R(E){const F=Object.create(null),W=E["OS/2"],P=E.hhea,K=E.head.unitsPerEm,A=S(W&&W.sTypoAscender,P&&P.ascender,K),D={unitsPerEm:K,ascender:A,descender:S(W&&W.sTypoDescender,P&&P.descender,0),capHeight:S(W&&W.sCapHeight,A),xHeight:S(W&&W.sxHeight,A),lineGap:S(W&&W.sTypoLineGap,P&&P.lineGap),supportsCodePoint(k){return l.U.codeToGlyph(E,k)>0},forEachGlyph(k,X,z,$){let oe=0;const I=1/D.unitsPerEm*X,j=y(E,k);let m=0;const U=C(E,j);return j.forEach((M,L)=>{if(M!==-1){let T=F[M];if(!T){const{cmds:H,crds:_}=l.U.glyphToPath(E,M);let B="",Y=0;for(let de=0,Q=H.length;de<Q;de++){const re=f[H[de]];B+=H[de];for(let fe=1;fe<=re;fe++)B+=(fe>1?",":"")+_[Y++]}let te,Z,N,me;if(_.length){te=Z=1/0,N=me=-1/0;for(let de=0,Q=_.length;de<Q;de+=2){let re=_[de],fe=_[de+1];re<te&&(te=re),fe<Z&&(Z=fe),re>N&&(N=re),fe>me&&(me=fe)}}else te=N=Z=me=0;T=F[M]={index:M,advanceWidth:E.hmtx.aWidth[M],xMin:te,yMin:Z,xMax:N,yMax:me,path:B}}$.call(null,T,oe+U[L*3]*I,U[L*3+1]*I,m),oe+=U[L*3+2]*I,z&&(oe+=z*X)}m+=k.codePointAt(m)>65535?2:1}),oe}};return D}return function(F){const W=new Uint8Array(F,0,4),P=l._bin.readASCII(W,0,4);if(P==="wOFF")F=r(F);else if(P==="wOF2")throw new Error("woff2 fonts not supported");return R(l.parse(F)[0])}}const ta=Ct({name:"Typr Font Parser",dependencies:[Qo,$o,ea],init(l,r,f){const u=l(),t=r();return f(u,t)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function ra(){return function(l){var r=function(){this.buckets=new Map};r.prototype.add=function(C){var b=C>>5;this.buckets.set(b,(this.buckets.get(b)||0)|1<<(31&C))},r.prototype.has=function(C){var b=this.buckets.get(C>>5);return b!==void 0&&(b&1<<(31&C))!=0},r.prototype.serialize=function(){var C=[];return this.buckets.forEach(function(b,S){C.push((+S).toString(36)+":"+b.toString(36))}),C.join(",")},r.prototype.deserialize=function(C){var b=this;this.buckets.clear(),C.split(",").forEach(function(S){var R=S.split(":");b.buckets.set(parseInt(R[0],36),parseInt(R[1],36))})};var f=Math.pow(2,8),u=f-1,t=~u;function e(C){var b=function(R){return R&t}(C).toString(16),S=function(R){return(R&t)+f-1}(C).toString(16);return"codepoint-index/plane"+(C>>16)+"/"+b+"-"+S+".json"}function i(C,b){var S=C&u,R=b.codePointAt(S/6|0);return((R=(R||48)-48)&1<<S%6)!=0}function a(C,b){var S;(S=C,S.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(R){return R.split("-").map(function(E){return parseInt(E.trim(),16)})})).forEach(function(R){var E=R[0],F=R[1];F===void 0&&(F=E),b(E,F)})}function n(C,b){a(C,function(S,R){for(var E=S;E<=R;E++)b(E)})}var o={},s={},c=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(C){var b=c.get(C);return b||(b=new r,n(C.ranges,function(S){return b.add(S)}),c.set(C,b)),b}var v,g=new Map;function p(C,b,S){return C[b]?b:C[S]?S:function(R){for(var E in R)return E}(C)}function w(C,b){var S=b;if(!C.includes(S)){S=1/0;for(var R=0;R<C.length;R++)Math.abs(C[R]-b)<Math.abs(S-b)&&(S=C[R])}return S}function y(C){return v||(v=new Set,n("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(b){v.add(b)})),v.has(C)}return l.CodePointSet=r,l.clearCache=function(){o={},s={}},l.getFontsForString=function(C,b){b===void 0&&(b={});var S,R=b.lang;R===void 0&&(R=/\p{Script=Hangul}/u.test(S=C)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(S)?"ja":"en");var E=b.category;E===void 0&&(E="sans-serif");var F=b.style;F===void 0&&(F="normal");var W=b.weight;W===void 0&&(W=400);var P=(b.dataUrl||d).replace(/\/$/g,""),K=new Map,A=new Uint8Array(C.length),D={},k={},X=new Array(C.length),z=new Map,$=!1;function oe(m){var U=g.get(m);return U||(U=fetch(P+"/"+m).then(function(M){if(!M.ok)throw new Error(M.statusText);return M.json().then(function(L){if(!Array.isArray(L)||L[0]!==1)throw new Error("Incorrect schema version; need 1, got "+L[0]);return L[1]})}).catch(function(M){if(P!==d)return $||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+P+'", trying default CDN. '+M.message),$=!0),P=d,g.delete(m),oe(m);throw M}),g.set(m,U)),U}for(var I=function(m){var U=C.codePointAt(m),M=e(U);X[m]=M,o[M]||z.has(M)||z.set(M,oe(M).then(function(L){o[M]=L})),U>65535&&(m++,j=m)},j=0;j<C.length;j++)I(j);return Promise.all(z.values()).then(function(){z.clear();for(var m=function(M){var L=C.codePointAt(M),T=null,H=o[X[M]],_=void 0;for(var B in H){var Y=k[B];if(Y===void 0&&(Y=k[B]=new RegExp(B).test(R||"en")),Y){for(var te in _=B,H[B])if(i(L,H[B][te])){T=te;break}break}}if(!T){e:for(var Z in H)if(Z!==_){for(var N in H[Z])if(i(L,H[Z][N])){T=N;break e}}}T||(console.debug("No font coverage for U+"+L.toString(16)),T="latin"),X[M]=T,s[T]||z.has(T)||z.set(T,oe("font-meta/"+T+".json").then(function(me){s[T]=me})),L>65535&&(M++,U=M)},U=0;U<C.length;U++)m(U);return Promise.all(z.values())}).then(function(){for(var m,U=null,M=0;M<C.length;M++){var L=C.codePointAt(M);if(U&&(y(L)||h(U).has(L)))A[M]=A[M-1];else{U=s[X[M]];var T=D[U.id];if(!T){var H=U.typeforms,_=p(H,E,"sans-serif"),B=p(H[_],F,"normal"),Y=w((m=H[_])===null||m===void 0?void 0:m[B],W);T=D[U.id]=P+"/font-files/"+U.id+"/"+_+"."+B+"."+Y+".woff"}var te=K.get(T);te==null&&(te=K.size,K.set(T,te)),A[M]=te}L>65535&&(M++,A[M]=A[M-1])}return{fontUrls:Array.from(K.keys()),chars:A}})},Object.defineProperty(l,"__esModule",{value:!0}),l}({})}function na(l,r){const f=Object.create(null),u=Object.create(null);function t(i,a){const n=o=>{console.error(`Failure loading font ${i}`,o)};try{const o=new XMLHttpRequest;o.open("get",i,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)n(new Error(o.statusText));else if(o.status>0)try{const s=l(o.response);s.src=i,a(s)}catch(s){n(s)}},o.onerror=n,o.send()}catch(o){n(o)}}function e(i,a){let n=f[i];n?a(n):u[i]?u[i].push(a):(u[i]=[a],t(i,o=>{o.src=i,f[i]=o,u[i].forEach(s=>s(o)),delete u[i]}))}return function(i,a,{lang:n,fonts:o=[],style:s="normal",weight:c="normal",unicodeFontsURL:d}={}){const h=new Uint8Array(i.length),v=[];i.length||y();const g=new Map,p=[];if(s!=="italic"&&(s="normal"),typeof c!="number"&&(c=c==="bold"?700:400),o&&!Array.isArray(o)&&(o=[o]),o=o.slice().filter(b=>!b.lang||b.lang.test(n)).reverse(),o.length){let E=0;(function F(W=0){for(let P=W,K=i.length;P<K;P++){const A=i.codePointAt(P);if(E===1&&v[h[P-1]].supportsCodePoint(A)||P>0&&/\s/.test(i[P]))h[P]=h[P-1],E===2&&(p[p.length-1][1]=P);else for(let D=h[P],k=o.length;D<=k;D++)if(D===k){const X=E===2?p[p.length-1]:p[p.length]=[P,P];X[1]=P,E=2}else{h[P]=D;const{src:X,unicodeRange:z}=o[D];if(!z||C(A,z)){const $=f[X];if(!$){e(X,()=>{F(P)});return}if($.supportsCodePoint(A)){let oe=g.get($);typeof oe!="number"&&(oe=v.length,v.push($),g.set($,oe)),h[P]=oe,E=1;break}}}A>65535&&P+1<K&&(h[P+1]=h[P],P++,E===2&&(p[p.length-1][1]=P))}w()})()}else p.push([0,i.length-1]),w();function w(){if(p.length){const b=p.map(S=>i.substring(S[0],S[1]+1)).join(`
`);r.getFontsForString(b,{lang:n||void 0,style:s,weight:c,dataUrl:d}).then(({fontUrls:S,chars:R})=>{const E=v.length;let F=0;p.forEach(P=>{for(let K=0,A=P[1]-P[0];K<=A;K++)h[P[0]+K]=R[F++]+E;F++});let W=0;S.forEach((P,K)=>{e(P,A=>{v[K+E]=A,++W===S.length&&y()})})})}else y()}function y(){a({chars:h,fonts:v})}function C(b,S){for(let R=0;R<S.length;R++){const[E,F=E]=S[R];if(E<=b&&b<=F)return!0}return!1}}}const oa=Ct({name:"FontResolver",dependencies:[na,ta,ra],init(l,r,f){return l(r,f())}});function aa(l,r){const u=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,t="[^\\S\\u00A0]",e=new RegExp(`${t}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function i({text:v,lang:g,fonts:p,style:w,weight:y,preResolvedFonts:C,unicodeFontsURL:b},S){const R=({chars:E,fonts:F})=>{let W,P;const K=[];for(let A=0;A<E.length;A++)E[A]!==P?(P=E[A],K.push(W={start:A,end:A,fontObj:F[E[A]]})):W.end=A;S(K)};C?R(C):l(v,R,{lang:g,fonts:p,style:w,weight:y,unicodeFontsURL:b})}function a({text:v="",font:g,lang:p,sdfGlyphSize:w=64,fontSize:y=400,fontWeight:C=1,fontStyle:b="normal",letterSpacing:S=0,lineHeight:R="normal",maxWidth:E=1/0,direction:F,textAlign:W="left",textIndent:P=0,whiteSpace:K="normal",overflowWrap:A="normal",anchorX:D=0,anchorY:k=0,metricsOnly:X=!1,unicodeFontsURL:z,preResolvedFonts:$=null,includeCaretPositions:oe=!1,chunkedBoundsSize:I=8192,colorRanges:j=null},m){const U=c(),M={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),y=+y,S=+S,E=+E,R=R||"normal",P=+P,i({text:v,lang:p,style:b,weight:C,fonts:typeof g=="string"?[{src:g}]:g,unicodeFontsURL:z,preResolvedFonts:$},L=>{M.fontLoad=c()-U;const T=isFinite(E);let H=null,_=null,B=null,Y=null,te=null,Z=null,N=null,me=null,de=0,Q=0,re=K!=="nowrap";const fe=new Map,V=c();let ne=P,ee=0,G=new d;const pe=[G];L.forEach(ae=>{const{fontObj:se}=ae,{ascender:ce,descender:ve,unitsPerEm:Se,lineGap:ke,capHeight:xe,xHeight:ye}=se;let ue=fe.get(se);if(!ue){const he=y/Se,we=R==="normal"?(ce-ve+ke)*he:R*y,ot=(we-(ce-ve)*he)/2,Ae=Math.min(we,(ce-ve)*he),Ce=(ce+ve)/2*he+Ae/2;ue={index:fe.size,src:se.src,fontObj:se,fontSizeMult:he,unitsPerEm:Se,ascender:ce*he,descender:ve*he,capHeight:xe*he,xHeight:ye*he,lineHeight:we,baseline:-ot-ce*he,caretTop:Ce,caretBottom:Ce-Ae},fe.set(se,ue)}const{fontSizeMult:Fe}=ue,Te=v.slice(ae.start,ae.end+1);let We,Ue;se.forEachGlyph(Te,y,S,(he,we,ot,Ae)=>{we+=ee,Ae+=ae.start,We=we,Ue=he;const Ce=v.charAt(Ae),Re=he.advanceWidth*Fe,Ee=G.count;let ge;if("isEmpty"in he||(he.isWhitespace=!!Ce&&new RegExp(t).test(Ce),he.canBreakAfter=!!Ce&&e.test(Ce),he.isEmpty=he.xMin===he.xMax||he.yMin===he.yMax||u.test(Ce)),!he.isWhitespace&&!he.isEmpty&&Q++,re&&T&&!he.isWhitespace&&we+Re+ne>E&&Ee){if(G.glyphAt(Ee-1).glyphObj.canBreakAfter)ge=new d,ne=-we;else for(let Ie=Ee;Ie--;)if(Ie===0&&A==="break-word"){ge=new d,ne=-we;break}else if(G.glyphAt(Ie).glyphObj.canBreakAfter){ge=G.splitAt(Ie+1);const je=ge.glyphAt(0).x;ne-=je;for(let De=ge.count;De--;)ge.glyphAt(De).x-=je;break}ge&&(G.isSoftWrapped=!0,G=ge,pe.push(G),de=E)}let Me=G.glyphAt(G.count);Me.glyphObj=he,Me.x=we+ne,Me.y=ot,Me.width=Re,Me.charIndex=Ae,Me.fontData=ue,Ce===`
`&&(G=new d,pe.push(G),ne=-(we+Re+S*y)+P)}),ee=We+Ue.advanceWidth*Fe+S*y});let q=0;pe.forEach(ae=>{let se=!0;for(let ce=ae.count;ce--;){const ve=ae.glyphAt(ce);se&&!ve.glyphObj.isWhitespace&&(ae.width=ve.x+ve.width,ae.width>de&&(de=ae.width),se=!1);let{lineHeight:Se,capHeight:ke,xHeight:xe,baseline:ye}=ve.fontData;Se>ae.lineHeight&&(ae.lineHeight=Se);const ue=ye-ae.baseline;ue<0&&(ae.baseline+=ue,ae.cap+=ue,ae.ex+=ue),ae.cap=Math.max(ae.cap,ae.baseline+ke),ae.ex=Math.max(ae.ex,ae.baseline+xe)}ae.baseline-=q,ae.cap-=q,ae.ex-=q,q+=ae.lineHeight});let ie=0,J=0;if(D&&(typeof D=="number"?ie=-D:typeof D=="string"&&(ie=-de*(D==="left"?0:D==="center"?.5:D==="right"?1:o(D)))),k&&(typeof k=="number"?J=-k:typeof k=="string"&&(J=k==="top"?0:k==="top-baseline"?-pe[0].baseline:k==="top-cap"?-pe[0].cap:k==="top-ex"?-pe[0].ex:k==="middle"?q/2:k==="bottom"?q:k==="bottom-baseline"?-pe[pe.length-1].baseline:o(k)*q)),!X){const ae=r.getEmbeddingLevels(v,F);H=new Uint16Array(Q),_=new Uint8Array(Q),B=new Float32Array(Q*2),Y={},N=[1/0,1/0,-1/0,-1/0],me=[],oe&&(Z=new Float32Array(v.length*4)),j&&(te=new Uint8Array(Q*3));let se=0,ce=-1,ve=-1,Se,ke;if(pe.forEach((xe,ye)=>{let{count:ue,width:Fe}=xe;if(ue>0){let Te=0;for(let Ae=ue;Ae--&&xe.glyphAt(Ae).glyphObj.isWhitespace;)Te++;let We=0,Ue=0;if(W==="center")We=(de-Fe)/2;else if(W==="right")We=de-Fe;else if(W==="justify"&&xe.isSoftWrapped){let Ae=0;for(let Ce=ue-Te;Ce--;)xe.glyphAt(Ce).glyphObj.isWhitespace&&Ae++;Ue=(de-Fe)/Ae}if(Ue||We){let Ae=0;for(let Ce=0;Ce<ue;Ce++){let Re=xe.glyphAt(Ce);const Ee=Re.glyphObj;Re.x+=We+Ae,Ue!==0&&Ee.isWhitespace&&Ce<ue-Te&&(Ae+=Ue,Re.width+=Ue)}}const he=r.getReorderSegments(v,ae,xe.glyphAt(0).charIndex,xe.glyphAt(xe.count-1).charIndex);for(let Ae=0;Ae<he.length;Ae++){const[Ce,Re]=he[Ae];let Ee=1/0,ge=-1/0;for(let Me=0;Me<ue;Me++)if(xe.glyphAt(Me).charIndex>=Ce){let Ie=Me,je=Me;for(;je<ue;je++){let De=xe.glyphAt(je);if(De.charIndex>Re)break;je<ue-Te&&(Ee=Math.min(Ee,De.x),ge=Math.max(ge,De.x+De.width))}for(let De=Ie;De<je;De++){const Qe=xe.glyphAt(De);Qe.x=ge-(Qe.x+Qe.width-Ee)}break}}let we;const ot=Ae=>we=Ae;for(let Ae=0;Ae<ue;Ae++){const Ce=xe.glyphAt(Ae);we=Ce.glyphObj;const Re=we.index,Ee=ae.levels[Ce.charIndex]&1;if(Ee){const ge=r.getMirroredCharacter(v[Ce.charIndex]);ge&&Ce.fontData.fontObj.forEachGlyph(ge,0,0,ot)}if(oe){const{charIndex:ge,fontData:Me}=Ce,Ie=Ce.x+ie,je=Ce.x+Ce.width+ie;Z[ge*4]=Ee?je:Ie,Z[ge*4+1]=Ee?Ie:je,Z[ge*4+2]=xe.baseline+Me.caretBottom+J,Z[ge*4+3]=xe.baseline+Me.caretTop+J;const De=ge-ce;De>1&&s(Z,ce,De),ce=ge}if(j){const{charIndex:ge}=Ce;for(;ge>ve;)ve++,j.hasOwnProperty(ve)&&(ke=j[ve])}if(!we.isWhitespace&&!we.isEmpty){const ge=se++,{fontSizeMult:Me,src:Ie,index:je}=Ce.fontData,De=Y[Ie]||(Y[Ie]={});De[Re]||(De[Re]={path:we.path,pathBounds:[we.xMin,we.yMin,we.xMax,we.yMax]});const Qe=Ce.x+ie,at=Ce.y+xe.baseline+J;B[ge*2]=Qe,B[ge*2+1]=at;const rt=Qe+we.xMin*Me,it=at+we.yMin*Me,ft=Qe+we.xMax*Me,nt=at+we.yMax*Me;rt<N[0]&&(N[0]=rt),it<N[1]&&(N[1]=it),ft>N[2]&&(N[2]=ft),nt>N[3]&&(N[3]=nt),ge%I===0&&(Se={start:ge,end:ge,rect:[1/0,1/0,-1/0,-1/0]},me.push(Se)),Se.end++;const Be=Se.rect;if(rt<Be[0]&&(Be[0]=rt),it<Be[1]&&(Be[1]=it),ft>Be[2]&&(Be[2]=ft),nt>Be[3]&&(Be[3]=nt),H[ge]=Re,_[ge]=je,j){const ut=ge*3;te[ut]=ke>>16&255,te[ut+1]=ke>>8&255,te[ut+2]=ke&255}}}}}),Z){const xe=v.length-ce;xe>1&&s(Z,ce,xe)}}const be=[];fe.forEach(({index:ae,src:se,unitsPerEm:ce,ascender:ve,descender:Se,lineHeight:ke,capHeight:xe,xHeight:ye})=>{be[ae]={src:se,unitsPerEm:ce,ascender:ve,descender:Se,lineHeight:ke,capHeight:xe,xHeight:ye}}),M.typesetting=c()-V,m({glyphIds:H,glyphFontIndices:_,glyphPositions:B,glyphData:Y,fontData:be,caretPositions:Z,glyphColors:te,chunkedBounds:me,fontSize:y,topBaseline:J+pe[0].baseline,blockBounds:[ie,J-q,ie+de,J],visibleBounds:N,timings:M})})}function n(v,g){a({...v,metricsOnly:!0},p=>{const[w,y,C,b]=p.blockBounds;g({width:C-w,height:b-y})})}function o(v){let g=v.match(/^([\d.]+)%$/),p=g?parseFloat(g[1]):NaN;return isNaN(p)?0:p/100}function s(v,g,p){const w=v[g*4],y=v[g*4+1],C=v[g*4+2],b=v[g*4+3],S=(y-w)/p;for(let R=0;R<p;R++){const E=(g+R)*4;v[E]=w+S*R,v[E+1]=w+S*(R+1),v[E+2]=C,v[E+3]=b}}function c(){return(self.performance||Date).now()}function d(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(v){let g=d.flyweight;return g.data=this.data,g.index=v,g},splitAt(v){let g=new d;return g.data=this.data.splice(v*h.length),g}},d.flyweight=h.reduce((v,g,p,w)=>(Object.defineProperty(v,g,{get(){return this.data[this.index*h.length+p]},set(y){this.data[this.index*h.length+p]=y}}),v),{data:null,index:0}),{typeset:a,measure:n}}const ht=()=>(self.performance||Date).now(),or=zn();let yn;function ia(l,r,f,u,t,e,i,a,n,o,s=!0){return s?la(l,r,f,u,t,e,i,a,n,o).then(null,c=>(yn||(console.warn("WebGL SDF generation failed, falling back to JS",c),yn=!0),bn(l,r,f,u,t,e,i,a,n,o))):bn(l,r,f,u,t,e,i,a,n,o)}const Qt=[],sa=5;let _r=0;function Zn(){const l=ht();for(;Qt.length&&ht()-l<sa;)Qt.shift()();_r=Qt.length?setTimeout(Zn,0):0}const la=(...l)=>new Promise((r,f)=>{Qt.push(()=>{const u=ht();try{or.webgl.generateIntoCanvas(...l),r({timing:ht()-u})}catch(t){f(t)}}),_r||(_r=setTimeout(Zn,0))}),fa=4,ua=2e3,Cn={};let ca=0;function bn(l,r,f,u,t,e,i,a,n,o){const s="TroikaTextSDFGenerator_JS_"+ca++%fa;let c=Cn[s];return c||(c=Cn[s]={workerModule:Ct({name:s,workerId:s,dependencies:[zn,ht],init(d,h){const v=d().javascript.generate;return function(...g){const p=h();return{textureData:v(...g),timing:h()-p}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),c.requests++,clearTimeout(c.idleTimer),c.workerModule(l,r,f,u,t,e).then(({textureData:d,timing:h})=>{const v=ht(),g=new Uint8Array(d.length*4);for(let p=0;p<d.length;p++)g[p*4+o]=d[p];return or.webglUtils.renderImageData(i,g,a,n,l,r,1<<3-o),h+=ht()-v,--c.requests===0&&(c.idleTimer=setTimeout(()=>{Ho(s)},ua)),{timing:h}})}function da(l){l._warm||(or.webgl.isSupported(l),l._warm=!0)}const ha=or.webglUtils.resizeWebGLCanvasWithoutClearing,Dt={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},pa=new tr;function xt(){return(self.performance||Date).now()}const wn=Object.create(null);function Xn(l,r){l=ma({},l);const f=xt(),u=[];if(l.font&&u.push({label:"user",src:xa(l.font)}),l.font=u,l.text=""+l.text,l.sdfGlyphSize=l.sdfGlyphSize||Dt.sdfGlyphSize,l.unicodeFontsURL=l.unicodeFontsURL||Dt.unicodeFontsURL,l.colorRanges!=null){let d={};for(let h in l.colorRanges)if(l.colorRanges.hasOwnProperty(h)){let v=l.colorRanges[h];typeof v!="number"&&(v=pa.set(v).getHex()),d[h]=v}l.colorRanges=d}Object.freeze(l);const{textureWidth:t,sdfExponent:e}=Dt,{sdfGlyphSize:i}=l,a=t/i*4;let n=wn[i];if(!n){const d=document.createElement("canvas");d.width=t,d.height=i*256/a,n=wn[i]={glyphCount:0,sdfGlyphSize:i,sdfCanvas:d,sdfTexture:new So(d,void 0,void 0,void 0,un,un),contextLost:!1,glyphsByFont:new Map},n.sdfTexture.generateMipmaps=!1,va(n)}const{sdfTexture:o,sdfCanvas:s}=n;Kn(l).then(d=>{const{glyphIds:h,glyphFontIndices:v,fontData:g,glyphPositions:p,fontSize:w,timings:y}=d,C=[],b=new Float32Array(h.length*4);let S=0,R=0;const E=xt(),F=g.map(D=>{let k=n.glyphsByFont.get(D.src);return k||n.glyphsByFont.set(D.src,k=new Map),k});h.forEach((D,k)=>{const X=v[k],{src:z,unitsPerEm:$}=g[X];let oe=F[X].get(D);if(!oe){const{path:M,pathBounds:L}=d.glyphData[z][D],T=Math.max(L[2]-L[0],L[3]-L[1])/i*(Dt.sdfMargin*i+.5),H=n.glyphCount++,_=[L[0]-T,L[1]-T,L[2]+T,L[3]+T];F[X].set(D,oe={path:M,atlasIndex:H,sdfViewBox:_}),C.push(oe)}const{sdfViewBox:I}=oe,j=p[R++],m=p[R++],U=w/$;b[S++]=j+I[0]*U,b[S++]=m+I[1]*U,b[S++]=j+I[2]*U,b[S++]=m+I[3]*U,h[k]=oe.atlasIndex}),y.quads=(y.quads||0)+(xt()-E);const W=xt();y.sdf={};const P=s.height,K=Math.ceil(n.glyphCount/a),A=Math.pow(2,Math.ceil(Math.log2(K*i)));A>P&&(console.info(`Increasing SDF texture size ${P}->${A}`),ha(s,t,A),o.dispose()),Promise.all(C.map(D=>Yn(D,n,l.gpuAccelerateSDF).then(({timing:k})=>{y.sdf[D.atlasIndex]=k}))).then(()=>{C.length&&!n.contextLost&&(Jn(n),o.needsUpdate=!0),y.sdfTotal=xt()-W,y.total=xt()-f,r(Object.freeze({parameters:l,sdfTexture:o,sdfGlyphSize:i,sdfExponent:e,glyphBounds:b,glyphAtlasIndices:h,glyphColors:d.glyphColors,caretPositions:d.caretPositions,chunkedBounds:d.chunkedBounds,ascender:d.ascender,descender:d.descender,lineHeight:d.lineHeight,capHeight:d.capHeight,xHeight:d.xHeight,topBaseline:d.topBaseline,blockBounds:d.blockBounds,visibleBounds:d.visibleBounds,timings:d.timings}))})}),Promise.resolve().then(()=>{n.contextLost||da(s)})}function Yn({path:l,atlasIndex:r,sdfViewBox:f},{sdfGlyphSize:u,sdfCanvas:t,contextLost:e},i){if(e)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:n}=Dt,o=Math.max(f[2]-f[0],f[3]-f[1]),s=Math.floor(r/4),c=s%(a/u)*u,d=Math.floor(s/(a/u))*u,h=r%4;return ia(u,u,l,f,o,n,t,c,d,h,i)}function va(l){const r=l.sdfCanvas;r.addEventListener("webglcontextlost",f=>{console.log("Context Lost",f),f.preventDefault(),l.contextLost=!0}),r.addEventListener("webglcontextrestored",f=>{console.log("Context Restored",f),l.contextLost=!1;const u=[];l.glyphsByFont.forEach(t=>{t.forEach(e=>{u.push(Yn(e,l,!0))})}),Promise.all(u).then(()=>{Jn(l),l.sdfTexture.needsUpdate=!0})})}function ga({font:l,characters:r,sdfGlyphSize:f},u){let t=Array.isArray(r)?r.join(`
`):""+r;Xn({font:l,sdfGlyphSize:f,text:t},u)}function ma(l,r){for(let f in r)r.hasOwnProperty(f)&&(l[f]=r[f]);return l}let Jt;function xa(l){return Jt||(Jt=typeof document>"u"?{}:document.createElement("a")),Jt.href=l,Jt.href}function Jn(l){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:r,sdfTexture:f}=l,{width:u,height:t}=r,e=l.sdfCanvas.getContext("webgl");let i=f.image.data;(!i||i.length!==u*t*4)&&(i=new Uint8Array(u*t*4),f.image={width:u,height:t,data:i},f.flipY=!1,f.isDataTexture=!0),e.readPixels(0,0,u,t,e.RGBA,e.UNSIGNED_BYTE,i)}}const ya=Ct({name:"Typesetter",dependencies:[aa,oa,zo],init(l,r,f){return l(r,f())}}),Kn=Ct({name:"Typesetter",dependencies:[ya],init(l){return function(r){return new Promise(f=>{l.typeset(r,f)})}},getTransferables(l){const r=[];for(let f in l)l[f]&&l[f].buffer&&r.push(l[f].buffer);return r}});Kn.onMainThread;const An={};function Ca(l){let r=An[l];return r||(r=An[l]=new jr(1,1,l,l).translate(.5,.5,0)),r}const ba="aTroikaGlyphBounds",Sn="aTroikaGlyphIndex",wa="aTroikaGlyphColor";class Aa extends bo{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new wo,this.boundingBox=new Bn}computeBoundingSphere(){}computeBoundingBox(){}set detail(r){if(r!==this._detail){this._detail=r,(typeof r!="number"||r<1)&&(r=1);let f=Ca(r);["position","normal","uv"].forEach(u=>{this.attributes[u]=f.attributes[u].clone()}),this.setIndex(f.getIndex().clone())}}get detail(){return this._detail}set curveRadius(r){r!==this._curveRadius&&(this._curveRadius=r,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(r,f,u,t,e){this.updateAttributeData(ba,r,4),this.updateAttributeData(Sn,f,1),this.updateAttributeData(wa,e,3),this._blockBounds=u,this._chunkedBounds=t,this.instanceCount=f.length,this._updateBounds()}_updateBounds(){const r=this._blockBounds;if(r){const{curveRadius:f,boundingBox:u}=this;if(f){const{PI:t,floor:e,min:i,max:a,sin:n,cos:o}=Math,s=t/2,c=t*2,d=Math.abs(f),h=r[0]/d,v=r[2]/d,g=e((h+s)/c)!==e((v+s)/c)?-d:i(n(h)*d,n(v)*d),p=e((h-s)/c)!==e((v-s)/c)?d:a(n(h)*d,n(v)*d),w=e((h+t)/c)!==e((v+t)/c)?d*2:a(d-o(h)*d,d-o(v)*d);u.min.set(g,r[1],f<0?-w:0),u.max.set(p,r[3],f<0?0:w)}else u.min.set(r[0],r[1],0),u.max.set(r[2],r[3],0);u.getBoundingSphere(this.boundingSphere)}}applyClipRect(r){let f=this.getAttribute(Sn).count,u=this._chunkedBounds;if(u)for(let t=u.length;t--;){f=u[t].end;let e=u[t].rect;if(e[1]<r.w&&e[3]>r.y&&e[0]<r.z&&e[2]>r.x)break}this.instanceCount=f}updateAttributeData(r,f,u){const t=this.getAttribute(r);f?t&&t.array.length===f.length?(t.array.set(f),t.needsUpdate=!0):(this.setAttribute(r,new Ao(f,u)),delete this._maxInstanceCount,this.dispose()):t&&this.deleteAttribute(r)}}const Sa=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Ua=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Ta=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Ea=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Ma(l){const r=Dr(l,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new $t},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new cn(0,0,0,0)},uTroikaClipRect:{value:new cn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new $t},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new tr},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Uo},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Sa,vertexTransform:Ua,fragmentDefs:Ta,fragmentColorTransform:Ea,customRewriter({vertexShader:f,fragmentShader:u}){let t=/\buniform\s+vec3\s+diffuse\b/;return t.test(u)&&(u=u.replace(t,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),t.test(f)||(f=f.replace(Vn,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:f,fragmentShader:u}}});return r.transparent=!0,r.forceSinglePass=!0,Object.defineProperties(r,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),r}const Gr=new yo({color:16777215,side:To,transparent:!0}),Un=8421504,Tn=new Co,Kt=new rr,Er=new rr,Lt=[],ka=new rr,Mr="+x+y";function En(l){return Array.isArray(l)?l[0]:l}let qn=()=>{const l=new er(new jr(1,1),Gr);return qn=()=>l,l},Qn=()=>{const l=new er(new jr(1,1,32,1),Gr);return Qn=()=>l,l};const Fa={type:"syncstart"},La={type:"synccomplete"},$n=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Ra=$n.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let eo=class extends er{constructor(){const r=new Aa;super(r,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Un,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Mr,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(r){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(r):(this._isSyncing=!0,this.dispatchEvent(Fa),Xn({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},f=>{this._isSyncing=!1,this._textRenderInfo=f,this.geometry.updateGlyphs(f.glyphBounds,f.glyphAtlasIndices,f.blockBounds,f.chunkedBounds,f.glyphColors);const u=this._queuedSyncs;u&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{u.forEach(t=>t&&t())})),this.dispatchEvent(La),r&&r()})))}onBeforeRender(r,f,u,t,e,i){this.sync(),e.isTroikaTextMaterial&&this._prepareForRender(e)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(r){return Ma(r)}get material(){let r=this._derivedMaterial;const f=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Gr.clone());if((!r||!r.isDerivedFrom(f))&&(r=this._derivedMaterial=this.createDerivedMaterial(f),f.addEventListener("dispose",function u(){f.removeEventListener("dispose",u),r.dispose()})),this.hasOutline()){let u=r._outlineMtl;return u||(u=r._outlineMtl=Object.create(r,{id:{value:r.id+.1}}),u.isTextOutlineMaterial=!0,u.depthWrite=!1,u.map=null,r.addEventListener("dispose",function t(){r.removeEventListener("dispose",t),u.dispose()})),[u,r]}else return r}set material(r){r&&r.isTroikaTextMaterial?(this._derivedMaterial=r,this._baseMaterial=r.baseMaterial):this._baseMaterial=r}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(r){this.geometry.detail=r}get curveRadius(){return this.geometry.curveRadius}set curveRadius(r){this.geometry.curveRadius=r}get customDepthMaterial(){return En(this.material).getDepthMaterial()}get customDistanceMaterial(){return En(this.material).getDistanceMaterial()}_prepareForRender(r){const f=r.isTextOutlineMaterial,u=r.uniforms,t=this.textRenderInfo;if(t){const{sdfTexture:a,blockBounds:n}=t;u.uTroikaSDFTexture.value=a,u.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),u.uTroikaSDFGlyphSize.value=t.sdfGlyphSize,u.uTroikaSDFExponent.value=t.sdfExponent,u.uTroikaTotalBounds.value.fromArray(n),u.uTroikaUseGlyphColors.value=!f&&!!t.glyphColors;let o=0,s=0,c=0,d,h,v,g=0,p=0;if(f){let{outlineWidth:y,outlineOffsetX:C,outlineOffsetY:b,outlineBlur:S,outlineOpacity:R}=this;o=this._parsePercent(y)||0,s=Math.max(0,this._parsePercent(S)||0),d=R,g=this._parsePercent(C)||0,p=this._parsePercent(b)||0}else c=Math.max(0,this._parsePercent(this.strokeWidth)||0),c&&(v=this.strokeColor,u.uTroikaStrokeColor.value.set(v??Un),h=this.strokeOpacity,h==null&&(h=1)),d=this.fillOpacity;u.uTroikaEdgeOffset.value=o,u.uTroikaPositionOffset.value.set(g,p),u.uTroikaBlurRadius.value=s,u.uTroikaStrokeWidth.value=c,u.uTroikaStrokeOpacity.value=h,u.uTroikaFillOpacity.value=d??1,u.uTroikaCurveRadius.value=this.curveRadius||0;let w=this.clipRect;if(w&&Array.isArray(w)&&w.length===4)u.uTroikaClipRect.value.fromArray(w);else{const y=(this.fontSize||.1)*100;u.uTroikaClipRect.value.set(n[0]-y,n[1]-y,n[2]+y,n[3]+y)}this.geometry.applyClipRect(u.uTroikaClipRect.value)}u.uTroikaSDFDebug.value=!!this.debugSDF,r.polygonOffset=!!this.depthOffset,r.polygonOffsetFactor=r.polygonOffsetUnits=this.depthOffset||0;const e=f?this.outlineColor||0:this.color;if(e==null)delete r.color;else{const a=r.hasOwnProperty("color")?r.color:r.color=new tr;(e!==a._input||typeof e=="object")&&a.set(a._input=e)}let i=this.orientation||Mr;if(i!==r._orientation){let a=u.uTroikaOrient.value;i=i.replace(/[^-+xyz]/g,"");let n=i!==Mr&&i.match(/^([-+])([xyz])([-+])([xyz])$/);if(n){let[,o,s,c,d]=n;Kt.set(0,0,0)[s]=o==="-"?1:-1,Er.set(0,0,0)[d]=c==="-"?-1:1,Tn.lookAt(ka,Kt.cross(Er),Er),a.setFromMatrix4(Tn)}else a.identity();r._orientation=i}}_parsePercent(r){if(typeof r=="string"){let f=r.match(/^(-?[\d.]+)%$/),u=f?parseFloat(f[1]):NaN;r=(isNaN(u)?0:u/100)*this.fontSize}return r}localPositionToTextCoords(r,f=new $t){f.copy(r);const u=this.curveRadius;return u&&(f.x=Math.atan2(r.x,Math.abs(u)-Math.abs(r.z))*Math.abs(u)),f}worldPositionToTextCoords(r,f=new $t){return Kt.copy(r),this.localPositionToTextCoords(this.worldToLocal(Kt),f)}raycast(r,f){const{textRenderInfo:u,curveRadius:t}=this;if(u){const e=u.blockBounds,i=t?Qn():qn(),a=i.geometry,{position:n,uv:o}=a.attributes;for(let s=0;s<o.count;s++){let c=e[0]+o.getX(s)*(e[2]-e[0]);const d=e[1]+o.getY(s)*(e[3]-e[1]);let h=0;t&&(h=t-Math.cos(c/t)*t,c=Math.sin(c/t)*t),n.setXYZ(s,c,d,h)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,Lt.length=0,i.raycast(r,Lt);for(let s=0;s<Lt.length;s++)Lt[s].object=this,f.push(Lt[s])}}copy(r){const f=this.geometry;return super.copy(r),this.geometry=f,Ra.forEach(u=>{this[u]=r[u]}),this}clone(){return new this.constructor().copy(this)}};$n.forEach(l=>{const r="_private_"+l;Object.defineProperty(eo.prototype,l,{get(){return this[r]},set(f){f!==this[r]&&(this[r]=f,this._needsSync=!0)}})});new Bn;new tr;const Da={},Mn=l=>{let r;const f=new Set,u=(s,c)=>{const d=typeof s=="function"?s(r):s;if(!Object.is(d,r)){const h=r;r=c??(typeof d!="object"||d===null)?d:Object.assign({},r,d),f.forEach(v=>v(r,h))}},t=()=>r,n={setState:u,getState:t,getInitialState:()=>o,subscribe:s=>(f.add(s),()=>f.delete(s)),destroy:()=>{(Da?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),f.clear()}},o=r=l(u,t,n);return n},_a=l=>l?Mn(l):Mn,{useDebugValue:Pa}=Wn,{useSyncExternalStoreWithSelector:ja}=Eo,Ga=l=>l;function Oa(l,r=Ga,f){const u=ja(l.subscribe,l.getState,l.getServerState||l.getInitialState,r,f);return Pa(u),u}const kn=(l,r)=>{const f=_a(l),u=(t,e=r)=>Oa(f,t,e);return Object.assign(u,f),u},Ia=(l,r)=>l?kn(l,r):kn;function Ba(l,r){if(Object.is(l,r))return!0;if(typeof l!="object"||l===null||typeof r!="object"||r===null)return!1;if(l instanceof Map&&r instanceof Map){if(l.size!==r.size)return!1;for(const[u,t]of l)if(!Object.is(t,r.get(u)))return!1;return!0}if(l instanceof Set&&r instanceof Set){if(l.size!==r.size)return!1;for(const u of l)if(!r.has(u))return!1;return!0}const f=Object.keys(l);if(f.length!==Object.keys(r).length)return!1;for(const u of f)if(!Object.prototype.hasOwnProperty.call(r,u)||!Object.is(l[u],r[u]))return!1;return!0}const ps=l=>{ze({customData:l})},vs=()=>Xe().customData,Or=Ia((l,r)=>{function f(){var u;const{accumulated:t,startTime:e,infos:i}=r(),a=(u=r().log)==null?void 0:u.maxMemory,{totalFrames:n,log:o,gl:s,max:c}=t,d={calls:s.calls/n,triangles:s.triangles/n,points:s.points/n,lines:s.lines/n},h={gpu:o.gpu/n,cpu:o.cpu/n,mem:o.mem/n,fps:o.fps/n};return{sessionTime:(window.performance.now()-e)/1e3,infos:i,log:h,gl:d,max:c,maxMemory:a,totalFrames:n}}return{log:null,paused:!1,triggerProgramsUpdate:0,startTime:0,customData:0,fpsLimit:60,overclockingFps:!1,accumulated:{totalFrames:0,gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0},max:{gl:{calls:0,triangles:0,points:0,lines:0,counts:0},log:{gpu:0,cpu:0,mem:0,fps:0}}},chart:{data:{fps:[],cpu:[],gpu:[],mem:[]},circularId:0},gl:void 0,objectWithMaterials:null,scene:void 0,programs:new Map,sceneLength:void 0,tab:"infos",getReport:f}}),qe=l=>Or(l,Ba);Object.assign(qe,Or);const{getState:Xe,setState:ze}=Or,Ke={value:0,fpsLimit:60,isOverLimit:0},Rt=l=>l?.reduce((r,f)=>r+f,0)/l.length;class Wa{constructor(r={}){this.names=[""],this.finished=[],this.paused=!1,this.overClock=!1,this.queryHasResult=!1,this.queryCreated=!1,this.isWebGL2=!0,this.memAccums=[],this.gpuAccums=[],this.activeAccums=[],this.logsAccums={mem:[],gpu:[],cpu:[],fps:[],fpsFixed:[]},this.fpsChart=[],this.gpuChart=[],this.cpuChart=[],this.memChart=[],this.paramLogger=()=>{},this.glFinish=()=>{},this.chartLogger=()=>{},this.chartLen=60,this.logsPerSecond=10,this.maxMemory=1500,this.chartHz=10,this.startCpuProfiling=!1,this.lastCalculateFixed=0,this.chartFrame=0,this.gpuTimeProcess=0,this.chartTime=0,this.activeQueries=0,this.circularId=0,this.detected=0,this.frameId=0,this.rafId=0,this.idleCbId=0,this.checkQueryId=0,this.uuid=void 0,this.currentCpu=0,this.currentMem=0,this.paramFrame=0,this.paramTime=0,this.now=()=>{},this.t0=0,window.GLPerf=window.GLPerf||{},Object.assign(this,r),this.fpsChart=new Array(this.chartLen).fill(0),this.gpuChart=new Array(this.chartLen).fill(0),this.cpuChart=new Array(this.chartLen).fill(0),this.memChart=new Array(this.chartLen).fill(0),this.now=()=>window.performance&&window.performance.now?window.performance.now():Date.now(),this.initGpu(),this.is120hz()}initGpu(){this.uuid=Mo.generateUUID(),this.gl&&(this.isWebGL2=!0,this.extension||(this.extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")),this.extension===null&&(this.isWebGL2=!1))}is120hz(){let r=0;const f=u=>{++r<20?this.rafId=window.requestAnimationFrame(f):(this.detected=Math.ceil(1e3*r/(u-this.t0)/70),window.cancelAnimationFrame(this.rafId)),this.t0||(this.t0=u)};this.rafId=window.requestAnimationFrame(f)}addUI(r){this.names.indexOf(r)===-1&&(this.names.push(r),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFps(r){const f=16.666666666666668,u=f-r.timeRemaining(),t=f*Ke.fpsLimit/10/u;t<0||(Ke.value=t,Ke.isOverLimit<25?Ke.isOverLimit++:ze({overclockingFps:!0}))}nextFrame(r){this.frameId++;const f=r||this.now();let u=f-this.paramTime,t=0;if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=f;else if(f>=this.paramTime){this.maxMemory=window.performance.memory?window.performance.memory.jsHeapSizeLimit/1048576:0;const e=this.frameId-this.paramFrame,i=e*1e3/u,a=Xe().overclockingFps?Ke.value:i;if(t=this.isWebGL2?this.gpuAccums[0]:this.gpuAccums[0]/u,this.isWebGL2?this.gpuAccums[0]=0:Promise.all(this.finished).then(()=>{this.gpuAccums[0]=0,this.finished=[]}),this.currentMem=Math.round(window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize/1048576:0),window.performance&&this.startCpuProfiling){window.performance.mark("cpu-finished");const n=performance.measure("cpu-duration","cpu-started","cpu-finished");this.currentCpu=n?.duration||0,this.logsAccums.cpu.push(this.currentCpu),this.startCpuProfiling=!1}this.logsAccums.mem.push(this.currentMem),this.logsAccums.fpsFixed.push(i),this.logsAccums.fps.push(a),this.logsAccums.gpu.push(t),this.overClock&&typeof window.requestIdleCallback<"u"&&(Ke.isOverLimit>0&&a>i?Ke.isOverLimit--:Xe().overclockingFps&&ze({overclockingFps:!1})),f>=this.paramTime+1e3/this.logsPerSecond&&(this.paramLogger({cpu:Rt(this.logsAccums.cpu),gpu:Rt(this.logsAccums.gpu),mem:Rt(this.logsAccums.mem),fps:Rt(this.logsAccums.fps),duration:Math.round(u),maxMemory:this.maxMemory,frameCount:e}),this.logsAccums.mem=[],this.logsAccums.fps=[],this.logsAccums.gpu=[],this.logsAccums.cpu=[],this.paramFrame=this.frameId,this.paramTime=f),this.overClock&&f-this.lastCalculateFixed>=2*1e3&&(this.lastCalculateFixed=r,Ke.fpsLimit=Math.round(Rt(this.logsAccums.fpsFixed)/10)*100,ze({fpsLimit:Ke.fpsLimit/10}),this.logsAccums.fpsFixed=[],this.paramFrame=this.frameId,this.paramTime=f)}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=f,this.circularId=0;else{const e=f-this.chartTime;let i=this.chartHz*e/1e3;for(;--i>0&&this.detected;){const n=(this.frameId-this.chartFrame)/e*1e3,o=Xe().overclockingFps?Ke.value:n;this.fpsChart[this.circularId%this.chartLen]=o;const s=1e3/this.currentMem,c=this.currentCpu,d=(this.isWebGL2?this.gpuAccums[1]*2:Math.round(this.gpuAccums[1]/u*100))+4;d>0&&(this.gpuChart[this.circularId%this.chartLen]=d),c>0&&(this.cpuChart[this.circularId%this.chartLen]=c),s>0&&(this.memChart[this.circularId%this.chartLen]=s);for(let h=0;h<this.names.length;h++)this.chartLogger({i:h,data:{fps:this.fpsChart,gpu:this.gpuChart,cpu:this.cpuChart,mem:this.memChart},circularId:this.circularId});this.circularId++,this.chartFrame=this.frameId,this.chartTime=f}}}startGpu(){const r=this.gl,f=this.extension;if(!(!r||!f)&&this.isWebGL2){let u=!1,t,e;if(this.query){this.queryHasResult=!1;let i=this.query;if(u=r.getQueryParameter(i,r.QUERY_RESULT_AVAILABLE),t=r.getParameter(f.GPU_DISJOINT_EXT),u&&!t){e=r.getQueryParameter(this.query,r.QUERY_RESULT);const a=e*1e-6;(u||t)&&(r.deleteQuery(this.query),i=null),u&&a>0&&(t||this.activeAccums.forEach((n,o)=>{this.gpuAccums[o]=a}))}}(u||!this.query)&&(this.queryCreated=!0,this.query=r.createQuery(),r.beginQuery(f.TIME_ELAPSED_EXT,this.query))}}endGpu(){const r=this.extension,f=this.gl;this.isWebGL2&&this.queryCreated&&f.getQuery(r.TIME_ELAPSED_EXT,f.CURRENT_QUERY)&&f.endQuery(r.TIME_ELAPSED_EXT)}begin(r){this.startGpu(),this.updateAccums(r)}end(r){this.endGpu(),this.updateAccums(r)}updateAccums(r){let f=this.names.indexOf(r);f===-1&&(f=this.names.length,this.addUI(r));const u=this.now();this.activeAccums[f]=!this.activeAccums[f],this.t0=u}}const Ha=l=>{l.forEach((r,f)=>{const{meshes:u}=r;if(!u)return;let t={total:0,type:"Triangle",data:[]};Object.keys(u).forEach(e=>{const i=u[e],{geometry:a,material:n}=i;let o=a.index;const s=a.attributes.position;if(!s)return;let c=1;n.wireframe===!0&&(c=0);const d=o!==null?o.count:s.count,h=a.drawRange.start*c,v=a.drawRange.count*c,g=h,p=Math.min(d,h+v)-1;let w=1;const y=i.count||1;let C="Triangle",b=0;i.isMesh?n.wireframe===!0?(C="Line",w=w/2):(C="Triangle",w=w/3):i.isLine?(C="Line",i.isLineSegments?w=w/2:i.isLineLoop?w=w:w=w-1):i.isPoints?(C="Point",w=w):i.isSprite&&(C="Triangle",w=w/3);const S=Math.round(Math.max(0,p-g+1)*(w*y));S>b&&(b=S,t.type=C),t.total+=S,t.data.push({drawCount:S,type:C}),i.userData.drawCount={type:C,count:S}}),r.drawCounts=t})};var kr={exports:{}},Fn;function Na(){return Fn||(Fn=1,function(l){var r=Object.prototype.hasOwnProperty,f="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(f=!1));function t(n,o,s){this.fn=n,this.context=o,this.once=s||!1}function e(n,o,s,c,d){if(typeof s!="function")throw new TypeError("The listener must be a function");var h=new t(s,c||n,d),v=f?f+o:o;return n._events[v]?n._events[v].fn?n._events[v]=[n._events[v],h]:n._events[v].push(h):(n._events[v]=h,n._eventsCount++),n}function i(n,o){--n._eventsCount===0?n._events=new u:delete n._events[o]}function a(){this._events=new u,this._eventsCount=0}a.prototype.eventNames=function(){var o=[],s,c;if(this._eventsCount===0)return o;for(c in s=this._events)r.call(s,c)&&o.push(f?c.slice(1):c);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(s)):o},a.prototype.listeners=function(o){var s=f?f+o:o,c=this._events[s];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,h=c.length,v=new Array(h);d<h;d++)v[d]=c[d].fn;return v},a.prototype.listenerCount=function(o){var s=f?f+o:o,c=this._events[s];return c?c.fn?1:c.length:0},a.prototype.emit=function(o,s,c,d,h,v){var g=f?f+o:o;if(!this._events[g])return!1;var p=this._events[g],w=arguments.length,y,C;if(p.fn){switch(p.once&&this.removeListener(o,p.fn,void 0,!0),w){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,s),!0;case 3:return p.fn.call(p.context,s,c),!0;case 4:return p.fn.call(p.context,s,c,d),!0;case 5:return p.fn.call(p.context,s,c,d,h),!0;case 6:return p.fn.call(p.context,s,c,d,h,v),!0}for(C=1,y=new Array(w-1);C<w;C++)y[C-1]=arguments[C];p.fn.apply(p.context,y)}else{var b=p.length,S;for(C=0;C<b;C++)switch(p[C].once&&this.removeListener(o,p[C].fn,void 0,!0),w){case 1:p[C].fn.call(p[C].context);break;case 2:p[C].fn.call(p[C].context,s);break;case 3:p[C].fn.call(p[C].context,s,c);break;case 4:p[C].fn.call(p[C].context,s,c,d);break;default:if(!y)for(S=1,y=new Array(w-1);S<w;S++)y[S-1]=arguments[S];p[C].fn.apply(p[C].context,y)}}return!0},a.prototype.on=function(o,s,c){return e(this,o,s,c,!1)},a.prototype.once=function(o,s,c){return e(this,o,s,c,!0)},a.prototype.removeListener=function(o,s,c,d){var h=f?f+o:o;if(!this._events[h])return this;if(!s)return i(this,h),this;var v=this._events[h];if(v.fn)v.fn===s&&(!d||v.once)&&(!c||v.context===c)&&i(this,h);else{for(var g=0,p=[],w=v.length;g<w;g++)(v[g].fn!==s||d&&!v[g].once||c&&v[g].context!==c)&&p.push(v[g]);p.length?this._events[h]=p.length===1?p[0]:p:i(this,h)}return this},a.prototype.removeAllListeners=function(o){var s;return o?(s=f?f+o:o,this._events[s]&&i(this,s)):(this._events=new u,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=f,a.EventEmitter=a,l.exports=a}(kr)),kr.exports}var za=Na();const Va=ko(za),Ir=new Va;function Za(l,r,f){return Ir.on(l,r)}function Xa(l,r,f){var u;Ir.removeListener(l,r,(u=f?.context)!=null?u:null,f?.once)}function Ya(l,r){Ir.emit(l,r)}function Ja(l,r,f=[],u){const t=O.useRef(r);O.useEffect(()=>void(t.current=r),[r]),O.useEffect(()=>{const e=a=>{var n;return(n=t.current)==null?void 0:n.call(t,a)},i=Za(l,e);return()=>Xa(l,e,{...u,context:i})},[l,void 0,...f])}const Ka=dt.prototype.updateMatrixWorld,qa=dt.prototype.updateWorldMatrix,Ln=dt.prototype.updateMatrix,Rn=["calls","triangles","points","lines"],Dn=["gpu","cpu","mem","fps"];let yt={value:0},Ye={value:0};const Qa=l=>{let r=""+l;return r=r.match("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"),r!==null},_n=(l,r)=>{l.defines||(l.defines={}),l.defines&&!l.defines.muiPerf&&(l.defines=Object.assign(l.defines||{},{muiPerf:l.uuid}));const f=l.uuid;return r[f]||(r[f]={meshes:{},material:l},l.needsUpdate=!0),l.needsUpdate=!1,f},$a=l=>l==="muiPerf",ei=({overClock:l,logsPerSecond:r,chart:f,deepAnalyze:u,matrixUpdate:t})=>{const{gl:e,scene:i}=nr();ze({gl:e,scene:i});const a=O.useMemo(()=>{const n=new Wa({trackGPU:!0,overClock:l,chartLen:f?f.length:120,chartHz:f?f.hz:60,logsPerSecond:r||10,gl:e.getContext(),chartLogger:p=>{ze({chart:p})},paramLogger:p=>{const w={maxMemory:p.maxMemory,gpu:p.gpu,cpu:p.cpu,mem:p.mem,fps:p.fps,totalTime:p.duration,frameCount:p.frameCount};ze({log:w});const{accumulated:y}=Xe(),C=e.info.render;y.totalFrames++,y.gl.calls+=C.calls,y.gl.triangles+=C.triangles,y.gl.points+=C.points,y.gl.lines+=C.lines,y.log.gpu+=p.gpu,y.log.cpu+=p.cpu,y.log.mem+=p.mem,y.log.fps+=p.fps;for(let b=0;b<Rn.length;b++){const S=Rn[b],R=C[S];R>y.max.gl[S]&&(y.max.gl[S]=R)}for(let b=0;b<Dn.length;b++){const S=Dn[b],R=p[S];R>y.max.log[S]&&(y.max.log[S]=R)}ze({accumulated:y}),Ya("log",[w,e])}}),o=e.getContext();let s=null,c=null;const d=o.getExtension("WEBGL_debug_renderer_info"),h=o.getParameter(o.VERSION);d!=null&&(s=o.getParameter(d.UNMASKED_RENDERER_WEBGL),c=o.getParameter(d.UNMASKED_VENDOR_WEBGL)),c||(c="Unknown vendor"),s||(s=o.getParameter(o.RENDERER)),ze({startTime:window.performance.now(),infos:{version:h,renderer:s,vendor:c}});const v=new Map,g=new Map;return Object.defineProperty(dn.prototype,"onBeforeRender",{get(){return(...p)=>{var w;n&&n.begin("profiler"),(w=v.get(this))==null||w(...p)}},set(p){v.set(this,p)},configurable:!0}),Object.defineProperty(dn.prototype,"onAfterRender",{get(){return(...p)=>{var w;n&&n.end("profiler"),(w=g.get(this))==null||w(...p)}},set(p){g.set(this,p)},configurable:!0}),n},[]);return O.useEffect(()=>{a&&(a.overClock=l||!1,l===!1&&(ze({overclockingFps:!1}),Ke.value=0,Ke.isOverLimit=0),a.chartHz=f?.hz||60,a.chartLen=f?.length||120)},[l,a,f?.length,f?.hz]),O.useEffect(()=>{t&&(dt.prototype.updateMatrixWorld=function(){(this.matrixWorldNeedsUpdate||arguments[0])&&yt.value++,Ka.apply(this,arguments)},dt.prototype.updateWorldMatrix=function(){yt.value++,qa.apply(this,arguments)},dt.prototype.updateMatrix=function(){Ye.value++,Ln.apply(this,arguments)}),e.info.autoReset=!1;let n=null,o=null;if(e.info)return n=Fo(function(){Xe().paused&&ze({paused:!1}),window.performance&&(window.performance.mark("cpu-started"),a.startCpuProfiling=!0),Ye.value-=1,yt.value=0,Ye.value=0,e.info&&e.info.reset()}),o=Lo(function(){var c,d;if(a&&!a.paused&&(a.nextFrame(window.performance.now()),l&&typeof window.requestIdleCallback<"u"&&(a.idleCbId=requestIdleCallback(a.nextFps))),u){const h={},v=new Map;i.traverse(function(p){if((p instanceof er||p instanceof Do)&&p.material){let w=p.material.uuid;Array.isArray(p.material)&&p.material.length>1?w=_n(p.material[1],h):w=_n(p.material,h),h[w].meshes[p.uuid]=p}}),(d=(c=e?.info)==null?void 0:c.programs)==null||d.forEach(g=>{const p=g.cacheKey.split(","),w=p[p.findIndex($a)+1];if(Qa(w)&&h[w]){const{material:y,meshes:C}=h[w];v.set(w,{program:g,material:y,meshes:C,drawCounts:{total:0,type:"triangle",data:[]},expand:!1,visible:!0})}}),v.size!==Xe().programs.size&&(Ha(v),ze({programs:v,triggerProgramsUpdate:Xe().triggerProgramsUpdate++}))}}),()=>{a&&(typeof window.cancelIdleCallback<"u"&&window.cancelIdleCallback(a.idleCbId),window.cancelAnimationFrame(a.rafId),window.cancelAnimationFrame(a.checkQueryId)),t&&(dt.prototype.updateMatrixWorld=Ln),n(),o()}},[a,e,f,t]),O.useEffect(()=>{const n=Ro(function(){return a&&(a.paused=!0,Ye.value=0,yt.value=0,ze({paused:!0,log:{maxMemory:0,gpu:0,mem:0,cpu:0,fps:0,totalTime:0,frameCount:0}})),!1});return()=>{n()}},[]),null},ti=_e("div",{position:"fixed",top:0,right:0,zIndex:9999,fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif`,backgroundColor:"rgba(36, 36, 36, .9)",color:"#fff",margin:0,minHeight:"100px",padding:"4px 0","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",userSelect:"none","&.top-left":{right:"initial",left:0},"&.bottom-left":{right:"initial",top:"initial",bottom:0,left:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.bottom-right":{top:"initial",bottom:0,".__perf_toggle":{top:"-20px",bottom:"initial"}},"&.minimal":{backgroundColor:"rgba(36, 36, 36, .75)"},"*":{margin:"0",padding:"0",border:"0",fontSize:"100%",lineHeight:"1",verticalAlign:"baseline"}}),Fr=_e("small",{position:"absolute",right:0,fontSize:"10px"}),Ge=_e("div",{display:"inline-flex",fontStyle:"normal",padding:0,lineHeight:"13px",fontSize:"14px",width:"62px",position:"relative",pointerEvents:"auto",cursor:"default",fontWeight:500,letterSpacing:"0px",textAlign:"left",height:"29px",whiteSpace:"nowrap",justifyContent:"space-evenly",fontVariantNumeric:"tabular-nums",small:{paddingLeft:"12px"},svg:{padding:0,color:"rgba(145, 145, 145, 0.3)",fontSize:"40px",position:"absolute",zIndex:1,maxHeight:"20px",left:" 50%",marginLeft:"-23px",top:"4px"}}),Ve=_e("span",{verticalAlign:"bottom",position:"absolute",bottom:"5px",color:"rgba(101, 197, 188, 1)",textAlign:"right",letterSpacing:"1px",fontSize:"8px",fontWeight:"500",width:"60px"}),ri=_e("div",{display:"flex"}),ni=_e("div",{backgroundColor:"#404040",padding:"6px",display:"block",fontSize:"12px",marginBottom:"6px",cursor:"pointer","*":{cursor:"pointer !important"},"> span":{},small:{fontSize:"9px"},"> b":{marginRight:"4px",cursor:"pointer"}}),oi=_e("div",{height:"66px",overflow:"hidden",position:"absolute",pointerEvents:"none",display:"flex",top:"0px",justifyContent:"center",width:"100%",minWidth:"310px",margin:"0 auto",canvas:{background:"transparent !important",position:"absolute !important"}}),ai=_e("div",{textAlign:"center",fontWeight:700,fontSize:"12px",lineHeight:"12px",display:"flex",justifyContent:"center",alignItems:"center",verticalAlign:"middle",color:"#f1f1f1",padding:"7px",width:"100%",backgroundColor:"rgba(36, 36, 37, 0.8)",zIndex:1,position:"absolute",height:"100%"}),Br=_e("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),ii=_e("div",{pointerEvents:"auto",justifyContent:"center",cursor:"pointer",fontSize:"12px",float:"right",backgroundColor:"rgb(41, 43, 45)",width:"auto",margin:"0",color:"rgba(145, 145, 145, 1)",textAlign:"center",display:"inline-block",verticalAlign:"middle",padding:"4px 6px","&.__perf_toggle_tab_active":{backgroundColor:"rgb(31 31 31)"},svg:{width:"12px",height:"12px",float:"left"}}),si=_e("div",{padding:"4px 6px",fontSize:"12px",pointerEvents:"auto"}),li=_e("span",{fontWeight:"bold",letterSpacing:"0.08em",maxWidth:"145px",overflow:"hidden",textOverflow:"ellipsis",display:"inline-block",verticalAlign:"middle",fontSize:"11px",marginRight:"10px"}),fi=_e("div",{maxHeight:"50vh",overflowY:"auto",marginTop:"38px"}),ui=_e("div",{marginTop:"0"}),Pn=_e("div",{display:"flex",position:"relative",fontWeight:"bold",color:"#fff",lineHeight:"14px",svg:{marginRight:"4px",display:"inline-block"}}),to=_e("ul",{display:"block",position:"relative",paddingLeft:"10px",margin:"6px 6px",img:{maxHeight:"60px",maxWidth:"100%",margin:"6px auto",display:"block"},"&:after":{content:"",position:"absolute",left:"0px",top:"0px",width:"1px",height:"100%",backgroundColor:"grey",transform:"translateX(-50%)",maxHeight:"50vh",overflowY:"auto"},li:{borderBottom:"1px solid #313131",display:"block",padding:"4px",margin:0,lineHeight:1,verticalAlign:"middle",height:"24px"},b:{fontWeight:"bold"},small:{textAlign:"revert",letterSpacing:"1px",fontSize:"10px",fontWeight:"500",marginLeft:"2px",color:"rgb(101, 197, 188)"}}),ro=_e("button",{fontWeight:"bold",letterSpacing:"0.02em",backgroundColor:"rgb(41, 43, 45)",color:"rgb(211, 211, 211)",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",display:"block",verticalAlign:"middle",fontSize:"11px",padding:"5px",margin:"4px auto"}),ci=_e("div",{display:"flex",justifyContent:"center",cursor:"pointer",fontSize:"12px",backgroundColor:"rgb(41, 43, 45)",marginTop:"6px",width:"auto",margin:"0 auto",color:"rgba(145, 145, 145, 1)",textAlign:"center",position:"absolute",right:0,bottom:" -20px",svg:{width:"12px",height:"12px",float:"left"}}),di=_e("li",{display:"flex !important",height:"auto !important",span:{height:"40px",display:"block",position:"relative"},b:{paddingLeft:"12px"}});function Le(l,r){if(l==null)return{};var f={},u=Object.keys(l),t,e;for(e=0;e<u.length;e++)t=u[e],!(r.indexOf(t)>=0)&&(f[t]=l[t]);return f}var hi=["color"],no=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,hi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),pi=["color"],vi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,pi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M11.5 1C11.7761 1 12 1.22386 12 1.5V13.5C12 13.7761 11.7761 14 11.5 14C11.2239 14 11 13.7761 11 13.5V1.5C11 1.22386 11.2239 1 11.5 1ZM9.5 3C9.77614 3 10 3.22386 10 3.5V13.5C10 13.7761 9.77614 14 9.5 14C9.22386 14 9 13.7761 9 13.5V3.5C9 3.22386 9.22386 3 9.5 3ZM13.5 3C13.7761 3 14 3.22386 14 3.5V13.5C14 13.7761 13.7761 14 13.5 14C13.2239 14 13 13.7761 13 13.5V3.5C13 3.22386 13.2239 3 13.5 3ZM5.5 4C5.77614 4 6 4.22386 6 4.5V13.5C6 13.7761 5.77614 14 5.5 14C5.22386 14 5 13.7761 5 13.5V4.5C5 4.22386 5.22386 4 5.5 4ZM1.5 5C1.77614 5 2 5.22386 2 5.5V13.5C2 13.7761 1.77614 14 1.5 14C1.22386 14 1 13.7761 1 13.5V5.5C1 5.22386 1.22386 5 1.5 5ZM7.5 5C7.77614 5 8 5.22386 8 5.5V13.5C8 13.7761 7.77614 14 7.5 14C7.22386 14 7 13.7761 7 13.5V5.5C7 5.22386 7.22386 5 7.5 5ZM3.5 7C3.77614 7 4 7.22386 4 7.5V13.5C4 13.7761 3.77614 14 3.5 14C3.22386 14 3 13.7761 3 13.5V7.5C3 7.22386 3.22386 7 3.5 7Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),gi=["color"],mi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,gi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M2 5H13C13.5523 5 14 5.44772 14 6V9C14 9.55228 13.5523 10 13 10H2C1.44772 10 1 9.55228 1 9V6C1 5.44772 1.44772 5 2 5ZM0 6C0 4.89543 0.895431 4 2 4H13C14.1046 4 15 4.89543 15 6V9C15 10.1046 14.1046 11 13 11H2C0.89543 11 0 10.1046 0 9V6ZM4.5 6.75C4.08579 6.75 3.75 7.08579 3.75 7.5C3.75 7.91421 4.08579 8.25 4.5 8.25C4.91421 8.25 5.25 7.91421 5.25 7.5C5.25 7.08579 4.91421 6.75 4.5 6.75ZM6.75 7.5C6.75 7.08579 7.08579 6.75 7.5 6.75C7.91421 6.75 8.25 7.08579 8.25 7.5C8.25 7.91421 7.91421 8.25 7.5 8.25C7.08579 8.25 6.75 7.91421 6.75 7.5ZM10.5 6.75C10.0858 6.75 9.75 7.08579 9.75 7.5C9.75 7.91421 10.0858 8.25 10.5 8.25C10.9142 8.25 11.25 7.91421 11.25 7.5C11.25 7.08579 10.9142 6.75 10.5 6.75Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),xi=["color"],yi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,xi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.28856 0.796908C7.42258 0.734364 7.57742 0.734364 7.71144 0.796908L13.7114 3.59691C13.8875 3.67906 14 3.85574 14 4.05V10.95C14 11.1443 13.8875 11.3209 13.7114 11.4031L7.71144 14.2031C7.57742 14.2656 7.42258 14.2656 7.28856 14.2031L1.28856 11.4031C1.11252 11.3209 1 11.1443 1 10.95V4.05C1 3.85574 1.11252 3.67906 1.28856 3.59691L7.28856 0.796908ZM2 4.80578L7 6.93078V12.9649L2 10.6316V4.80578ZM8 12.9649L13 10.6316V4.80578L8 6.93078V12.9649ZM7.5 6.05672L12.2719 4.02866L7.5 1.80176L2.72809 4.02866L7.5 6.05672Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Ci=["color"],bi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Ci);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.5 9.125C8.39746 9.125 9.125 8.39746 9.125 7.5C9.125 6.60254 8.39746 5.875 7.5 5.875C6.60254 5.875 5.875 6.60254 5.875 7.5C5.875 8.39746 6.60254 9.125 7.5 9.125ZM7.5 10.125C8.94975 10.125 10.125 8.94975 10.125 7.5C10.125 6.05025 8.94975 4.875 7.5 4.875C6.05025 4.875 4.875 6.05025 4.875 7.5C4.875 8.94975 6.05025 10.125 7.5 10.125Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),wi=["color"],Ai=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,wi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.49999 3.09998C7.27907 3.09998 7.09999 3.27906 7.09999 3.49998C7.09999 3.72089 7.27907 3.89998 7.49999 3.89998H14.5C14.7209 3.89998 14.9 3.72089 14.9 3.49998C14.9 3.27906 14.7209 3.09998 14.5 3.09998H7.49999ZM7.49998 5.1C7.27907 5.1 7.09998 5.27908 7.09998 5.5C7.09998 5.72091 7.27907 5.9 7.49998 5.9H14.5C14.7209 5.9 14.9 5.72091 14.9 5.5C14.9 5.27908 14.7209 5.1 14.5 5.1H7.49998ZM7.1 7.5C7.1 7.27908 7.27909 7.1 7.5 7.1H14.5C14.7209 7.1 14.9 7.27908 14.9 7.5C14.9 7.72091 14.7209 7.9 14.5 7.9H7.5C7.27909 7.9 7.1 7.72091 7.1 7.5ZM7.49998 9.1C7.27907 9.1 7.09998 9.27908 7.09998 9.5C7.09998 9.72091 7.27907 9.9 7.49998 9.9H14.5C14.7209 9.9 14.9 9.72091 14.9 9.5C14.9 9.27908 14.7209 9.1 14.5 9.1H7.49998ZM7.09998 11.5C7.09998 11.2791 7.27907 11.1 7.49998 11.1H14.5C14.7209 11.1 14.9 11.2791 14.9 11.5C14.9 11.7209 14.7209 11.9 14.5 11.9H7.49998C7.27907 11.9 7.09998 11.7209 7.09998 11.5ZM2.5 9.25003L5 6.00003H0L2.5 9.25003Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Si=["color"],Ui=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Si);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Ti=["color"],Ei=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Ti);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Mi=["color"],Pr=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Mi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M2.5 1H12.5C13.3284 1 14 1.67157 14 2.5V12.5C14 13.3284 13.3284 14 12.5 14H2.5C1.67157 14 1 13.3284 1 12.5V2.5C1 1.67157 1.67157 1 2.5 1ZM2.5 2C2.22386 2 2 2.22386 2 2.5V8.3636L3.6818 6.6818C3.76809 6.59551 3.88572 6.54797 4.00774 6.55007C4.12975 6.55216 4.24568 6.60372 4.32895 6.69293L7.87355 10.4901L10.6818 7.6818C10.8575 7.50607 11.1425 7.50607 11.3182 7.6818L13 9.3636V2.5C13 2.22386 12.7761 2 12.5 2H2.5ZM2 12.5V9.6364L3.98887 7.64753L7.5311 11.4421L8.94113 13H2.5C2.22386 13 2 12.7761 2 12.5ZM12.5 13H10.155L8.48336 11.153L11 8.6364L13 10.6364V12.5C13 12.7761 12.7761 13 12.5 13ZM6.64922 5.5C6.64922 5.03013 7.03013 4.64922 7.5 4.64922C7.96987 4.64922 8.35078 5.03013 8.35078 5.5C8.35078 5.96987 7.96987 6.35078 7.5 6.35078C7.03013 6.35078 6.64922 5.96987 6.64922 5.5ZM7.5 3.74922C6.53307 3.74922 5.74922 4.53307 5.74922 5.5C5.74922 6.46693 6.53307 7.25078 7.5 7.25078C8.46693 7.25078 9.25078 6.46693 9.25078 5.5C9.25078 4.53307 8.46693 3.74922 7.5 3.74922Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),ki=["color"],Fi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,ki);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M5.49998 0.5C5.49998 0.223858 5.72383 0 5.99998 0H7.49998H8.99998C9.27612 0 9.49998 0.223858 9.49998 0.5C9.49998 0.776142 9.27612 1 8.99998 1H7.99998V2.11922C9.09832 2.20409 10.119 2.56622 10.992 3.13572C11.0116 3.10851 11.0336 3.08252 11.058 3.05806L12.058 2.05806C12.3021 1.81398 12.6978 1.81398 12.9419 2.05806C13.186 2.30214 13.186 2.69786 12.9419 2.94194L11.967 3.91682C13.1595 5.07925 13.9 6.70314 13.9 8.49998C13.9 12.0346 11.0346 14.9 7.49998 14.9C3.96535 14.9 1.09998 12.0346 1.09998 8.49998C1.09998 5.13361 3.69904 2.3743 6.99998 2.11922V1H5.99998C5.72383 1 5.49998 0.776142 5.49998 0.5ZM2.09998 8.49998C2.09998 5.51764 4.51764 3.09998 7.49998 3.09998C10.4823 3.09998 12.9 5.51764 12.9 8.49998C12.9 11.4823 10.4823 13.9 7.49998 13.9C4.51764 13.9 2.09998 11.4823 2.09998 8.49998ZM7.49998 8.49998V4.09998C5.06992 4.09998 3.09998 6.06992 3.09998 8.49998C3.09998 10.93 5.06992 12.9 7.49998 12.9C8.715 12.9 9.815 12.4075 10.6112 11.6112L7.49998 8.49998Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Li=["color"],Ri=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Li);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.75432 0.819537C7.59742 0.726821 7.4025 0.726821 7.24559 0.819537L1.74559 4.06954C1.59336 4.15949 1.49996 4.32317 1.49996 4.5C1.49996 4.67683 1.59336 4.84051 1.74559 4.93046L7.24559 8.18046C7.4025 8.27318 7.59742 8.27318 7.75432 8.18046L13.2543 4.93046C13.4066 4.84051 13.5 4.67683 13.5 4.5C13.5 4.32317 13.4066 4.15949 13.2543 4.06954L7.75432 0.819537ZM7.49996 7.16923L2.9828 4.5L7.49996 1.83077L12.0171 4.5L7.49996 7.16923ZM1.5695 7.49564C1.70998 7.2579 2.01659 7.17906 2.25432 7.31954L7.49996 10.4192L12.7456 7.31954C12.9833 7.17906 13.2899 7.2579 13.4304 7.49564C13.5709 7.73337 13.4921 8.03998 13.2543 8.18046L7.75432 11.4305C7.59742 11.5232 7.4025 11.5232 7.24559 11.4305L1.74559 8.18046C1.50786 8.03998 1.42901 7.73337 1.5695 7.49564ZM1.56949 10.4956C1.70998 10.2579 2.01658 10.1791 2.25432 10.3195L7.49996 13.4192L12.7456 10.3195C12.9833 10.1791 13.2899 10.2579 13.4304 10.4956C13.5709 10.7334 13.4921 11.04 13.2543 11.1805L7.75432 14.4305C7.59742 14.5232 7.4025 14.5232 7.24559 14.4305L1.74559 11.1805C1.50785 11.04 1.42901 10.7334 1.56949 10.4956Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Di=["color"],_i=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Di);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M8.69667 0.0403541C8.90859 0.131038 9.03106 0.354857 8.99316 0.582235L8.0902 6.00001H12.5C12.6893 6.00001 12.8625 6.10701 12.9472 6.27641C13.0319 6.4458 13.0136 6.6485 12.8999 6.80001L6.89997 14.8C6.76167 14.9844 6.51521 15.0503 6.30328 14.9597C6.09135 14.869 5.96888 14.6452 6.00678 14.4178L6.90974 9H2.49999C2.31061 9 2.13748 8.893 2.05278 8.72361C1.96809 8.55422 1.98636 8.35151 2.09999 8.2L8.09997 0.200038C8.23828 0.0156255 8.48474 -0.0503301 8.69667 0.0403541ZM3.49999 8.00001H7.49997C7.64695 8.00001 7.78648 8.06467 7.88148 8.17682C7.97648 8.28896 8.01733 8.43723 7.99317 8.5822L7.33027 12.5596L11.5 7.00001H7.49997C7.353 7.00001 7.21347 6.93534 7.11846 6.8232C7.02346 6.71105 6.98261 6.56279 7.00678 6.41781L7.66968 2.44042L3.49999 8.00001Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Pi=["color"],ji=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Pi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M1.49988 2.00012C1.77602 2.00012 1.99988 1.77626 1.99988 1.50012C1.99988 1.22398 1.77602 1.00012 1.49988 1.00012C1.22374 1.00012 0.999878 1.22398 0.999878 1.50012C0.999878 1.77626 1.22374 2.00012 1.49988 2.00012ZM4.49988 2.00012C4.77602 2.00012 4.99988 1.77626 4.99988 1.50012C4.99988 1.22398 4.77602 1.00012 4.49988 1.00012C4.22374 1.00012 3.99988 1.22398 3.99988 1.50012C3.99988 1.77626 4.22374 2.00012 4.49988 2.00012ZM7.99988 1.50012C7.99988 1.77626 7.77602 2.00012 7.49988 2.00012C7.22374 2.00012 6.99988 1.77626 6.99988 1.50012C6.99988 1.22398 7.22374 1.00012 7.49988 1.00012C7.77602 1.00012 7.99988 1.22398 7.99988 1.50012ZM10.4999 2.00012C10.776 2.00012 10.9999 1.77626 10.9999 1.50012C10.9999 1.22398 10.776 1.00012 10.4999 1.00012C10.2237 1.00012 9.99988 1.22398 9.99988 1.50012C9.99988 1.77626 10.2237 2.00012 10.4999 2.00012ZM13.9999 1.50012C13.9999 1.77626 13.776 2.00012 13.4999 2.00012C13.2237 2.00012 12.9999 1.77626 12.9999 1.50012C12.9999 1.22398 13.2237 1.00012 13.4999 1.00012C13.776 1.00012 13.9999 1.22398 13.9999 1.50012ZM1.49988 14.0001C1.77602 14.0001 1.99988 13.7763 1.99988 13.5001C1.99988 13.224 1.77602 13.0001 1.49988 13.0001C1.22374 13.0001 0.999878 13.224 0.999878 13.5001C0.999878 13.7763 1.22374 14.0001 1.49988 14.0001ZM1.99988 10.5001C1.99988 10.7763 1.77602 11.0001 1.49988 11.0001C1.22374 11.0001 0.999878 10.7763 0.999878 10.5001C0.999878 10.224 1.22374 10.0001 1.49988 10.0001C1.77602 10.0001 1.99988 10.224 1.99988 10.5001ZM1.49988 8.00012C1.77602 8.00012 1.99988 7.77626 1.99988 7.50012C1.99988 7.22398 1.77602 7.00012 1.49988 7.00012C1.22374 7.00012 0.999878 7.22398 0.999878 7.50012C0.999878 7.77626 1.22374 8.00012 1.49988 8.00012ZM1.99988 4.50012C1.99988 4.77626 1.77602 5.00012 1.49988 5.00012C1.22374 5.00012 0.999878 4.77626 0.999878 4.50012C0.999878 4.22398 1.22374 4.00012 1.49988 4.00012C1.77602 4.00012 1.99988 4.22398 1.99988 4.50012ZM13.4999 11.0001C13.776 11.0001 13.9999 10.7763 13.9999 10.5001C13.9999 10.224 13.776 10.0001 13.4999 10.0001C13.2237 10.0001 12.9999 10.224 12.9999 10.5001C12.9999 10.7763 13.2237 11.0001 13.4999 11.0001ZM13.9999 7.50012C13.9999 7.77626 13.776 8.00012 13.4999 8.00012C13.2237 8.00012 12.9999 7.77626 12.9999 7.50012C12.9999 7.22398 13.2237 7.00012 13.4999 7.00012C13.776 7.00012 13.9999 7.22398 13.9999 7.50012ZM13.4999 5.00012C13.776 5.00012 13.9999 4.77626 13.9999 4.50012C13.9999 4.22398 13.776 4.00012 13.4999 4.00012C13.2237 4.00012 12.9999 4.22398 12.9999 4.50012C12.9999 4.77626 13.2237 5.00012 13.4999 5.00012ZM4.99988 13.5001C4.99988 13.7763 4.77602 14.0001 4.49988 14.0001C4.22374 14.0001 3.99988 13.7763 3.99988 13.5001C3.99988 13.224 4.22374 13.0001 4.49988 13.0001C4.77602 13.0001 4.99988 13.224 4.99988 13.5001ZM7.49988 14.0001C7.77602 14.0001 7.99988 13.7763 7.99988 13.5001C7.99988 13.224 7.77602 13.0001 7.49988 13.0001C7.22374 13.0001 6.99988 13.224 6.99988 13.5001C6.99988 13.7763 7.22374 14.0001 7.49988 14.0001ZM10.9999 13.5001C10.9999 13.7763 10.776 14.0001 10.4999 14.0001C10.2237 14.0001 9.99988 13.7763 9.99988 13.5001C9.99988 13.224 10.2237 13.0001 10.4999 13.0001C10.776 13.0001 10.9999 13.224 10.9999 13.5001ZM13.4999 14.0001C13.776 14.0001 13.9999 13.7763 13.9999 13.5001C13.9999 13.224 13.776 13.0001 13.4999 13.0001C13.2237 13.0001 12.9999 13.224 12.9999 13.5001C12.9999 13.7763 13.2237 14.0001 13.4999 14.0001ZM3.99988 5.00012C3.99988 4.44784 4.44759 4.00012 4.99988 4.00012H9.99988C10.5522 4.00012 10.9999 4.44784 10.9999 5.00012V10.0001C10.9999 10.5524 10.5522 11.0001 9.99988 11.0001H4.99988C4.44759 11.0001 3.99988 10.5524 3.99988 10.0001V5.00012ZM4.99988 5.00012H9.99988V10.0001H4.99988V5.00012Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Gi=["color"],Oi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Gi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M2.25 7.5C2.25 7.22386 2.47386 7 2.75 7H12.25C12.5261 7 12.75 7.22386 12.75 7.5C12.75 7.77614 12.5261 8 12.25 8H2.75C2.47386 8 2.25 7.77614 2.25 7.5Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Ii=["color"],Bi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Ii);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M6.04995 2.74998C6.04995 2.44623 5.80371 2.19998 5.49995 2.19998C5.19619 2.19998 4.94995 2.44623 4.94995 2.74998V12.25C4.94995 12.5537 5.19619 12.8 5.49995 12.8C5.80371 12.8 6.04995 12.5537 6.04995 12.25V2.74998ZM10.05 2.74998C10.05 2.44623 9.80371 2.19998 9.49995 2.19998C9.19619 2.19998 8.94995 2.44623 8.94995 2.74998V12.25C8.94995 12.5537 9.19619 12.8 9.49995 12.8C9.80371 12.8 10.05 12.5537 10.05 12.25V2.74998Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Wi=["color"],Hi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Wi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M6.85357 3.85355L7.65355 3.05353C8.2981 2.40901 9.42858 1.96172 10.552 1.80125C11.1056 1.72217 11.6291 1.71725 12.0564 1.78124C12.4987 1.84748 12.7698 1.97696 12.8965 2.10357C13.0231 2.23018 13.1526 2.50125 13.2188 2.94357C13.2828 3.37086 13.2779 3.89439 13.1988 4.44801C13.0383 5.57139 12.591 6.70188 11.9464 7.34645L7.49999 11.7929L6.35354 10.6465C6.15827 10.4512 5.84169 10.4512 5.64643 10.6465C5.45117 10.8417 5.45117 11.1583 5.64643 11.3536L7.14644 12.8536C7.34171 13.0488 7.65829 13.0488 7.85355 12.8536L8.40073 12.3064L9.57124 14.2572C9.65046 14.3893 9.78608 14.4774 9.9389 14.4963C10.0917 14.5151 10.2447 14.4624 10.3535 14.3536L12.3535 12.3536C12.4648 12.2423 12.5172 12.0851 12.495 11.9293L12.0303 8.67679L12.6536 8.05355C13.509 7.19808 14.0117 5.82855 14.1887 4.58943C14.2784 3.9618 14.2891 3.33847 14.2078 2.79546C14.1287 2.26748 13.9519 1.74482 13.6035 1.39645C13.2552 1.04809 12.7325 0.871332 12.2045 0.792264C11.6615 0.710945 11.0382 0.721644 10.4105 0.8113C9.17143 0.988306 7.80189 1.491 6.94644 2.34642L6.32322 2.96968L3.07071 2.50504C2.91492 2.48278 2.75773 2.53517 2.64645 2.64646L0.646451 4.64645C0.537579 4.75533 0.484938 4.90829 0.50375 5.0611C0.522563 5.21391 0.61073 5.34954 0.742757 5.42876L2.69364 6.59928L2.14646 7.14645C2.0527 7.24022 2.00002 7.3674 2.00002 7.50001C2.00002 7.63261 2.0527 7.75979 2.14646 7.85356L3.64647 9.35356C3.84173 9.54883 4.15831 9.54883 4.35357 9.35356C4.54884 9.1583 4.54884 8.84172 4.35357 8.64646L3.20712 7.50001L3.85357 6.85356L6.85357 3.85355ZM10.0993 13.1936L9.12959 11.5775L11.1464 9.56067L11.4697 11.8232L10.0993 13.1936ZM3.42251 5.87041L5.43935 3.85356L3.17678 3.53034L1.80638 4.90074L3.42251 5.87041ZM2.35356 10.3535C2.54882 10.1583 2.54882 9.8417 2.35356 9.64644C2.1583 9.45118 1.84171 9.45118 1.64645 9.64644L0.646451 10.6464C0.451188 10.8417 0.451188 11.1583 0.646451 11.3535C0.841713 11.5488 1.1583 11.5488 1.35356 11.3535L2.35356 10.3535ZM3.85358 11.8536C4.04884 11.6583 4.04885 11.3417 3.85359 11.1465C3.65833 10.9512 3.34175 10.9512 3.14648 11.1465L1.14645 13.1464C0.95119 13.3417 0.951187 13.6583 1.14645 13.8535C1.34171 14.0488 1.65829 14.0488 1.85355 13.8536L3.85358 11.8536ZM5.35356 13.3535C5.54882 13.1583 5.54882 12.8417 5.35356 12.6464C5.1583 12.4512 4.84171 12.4512 4.64645 12.6464L3.64645 13.6464C3.45119 13.8417 3.45119 14.1583 3.64645 14.3535C3.84171 14.5488 4.1583 14.5488 4.35356 14.3535L5.35356 13.3535ZM9.49997 6.74881C10.1897 6.74881 10.7488 6.1897 10.7488 5.5C10.7488 4.8103 10.1897 4.25118 9.49997 4.25118C8.81026 4.25118 8.25115 4.8103 8.25115 5.5C8.25115 6.1897 8.81026 6.74881 9.49997 6.74881Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Ni=["color"],zi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Ni);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M0.5 4C0.223858 4 0 4.22386 0 4.5V10.5C0 10.7761 0.223858 11 0.5 11H14.5C14.7761 11 15 10.7761 15 10.5V4.5C15 4.22386 14.7761 4 14.5 4H0.5ZM1 10V5H2.075V7.5C2.075 7.73472 2.26528 7.925 2.5 7.925C2.73472 7.925 2.925 7.73472 2.925 7.5V5H4.075V6.5C4.075 6.73472 4.26528 6.925 4.5 6.925C4.73472 6.925 4.925 6.73472 4.925 6.5V5H6.075V6.5C6.075 6.73472 6.26528 6.925 6.5 6.925C6.73472 6.925 6.925 6.73472 6.925 6.5V5H8.075V7.5C8.075 7.73472 8.26528 7.925 8.5 7.925C8.73472 7.925 8.925 7.73472 8.925 7.5V5H10.075V6.5C10.075 6.73472 10.2653 6.925 10.5 6.925C10.7347 6.925 10.925 6.73472 10.925 6.5V5H12.075V6.5C12.075 6.73472 12.2653 6.925 12.5 6.925C12.7347 6.925 12.925 6.73472 12.925 6.5V5H14V10H1Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Vi=["color"],Zi=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Vi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M2.5 4C2.22386 4 2 4.22386 2 4.5C2 4.77614 2.22386 5 2.5 5H12.5C12.7761 5 13 4.77614 13 4.5C13 4.22386 12.7761 4 12.5 4H2.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))}),Xi=["color"],oo=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Xi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M4 6H11L7.5 10.5L4 6Z",fill:u}))}),Yi=["color"],ao=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Yi);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M4 9H11L7.5 4.5L4 9Z",fill:u}))}),Ji=["color"],io=O.forwardRef(function(l,r){var f=l.color,u=f===void 0?"currentColor":f,t=Le(l,Ji);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{ref:r}),O.createElement("path",{d:"M7.49998 1L6.92321 2.00307L1.17498 12L0.599976 13H1.7535H13.2464H14.4L13.825 12L8.07674 2.00307L7.49998 1ZM7.49998 3.00613L2.3285 12H12.6714L7.49998 3.00613Z",fill:u,fillRule:"evenodd",clipRule:"evenodd"}))});const jn=O.forwardRef(({sdfGlyphSize:l=64,anchorX:r="center",anchorY:f="middle",font:u,fontSize:t=1,children:e,characters:i,onSync:a,...n},o)=>{const s=nr(({invalidate:v})=>v),[c]=O.useState(()=>new eo),[d,h]=O.useMemo(()=>{const v=[];let g="";return O.Children.forEach(e,p=>{typeof p=="string"||typeof p=="number"?g+=p:v.push(p)}),[v,g]},[e]);return _o(()=>new Promise(v=>ga({font:u,characters:i},v)),["troika-text",u,i]),O.useLayoutEffect(()=>void c.sync(()=>{s(),a&&a(c)})),O.useEffect(()=>()=>c.dispose(),[c]),O.createElement("primitive",Po({object:c,ref:o,font:u,text:h,anchorX:r,anchorY:f,fontSize:t,sdfGlyphSize:l},n),d)}),Gn="data:font/woff;base64,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",Je=O.memo(({isPerf:l,color:r,colorBlind:f,customData:u,isMemory:t,isShadersInfo:e,metric:i,fontSize:a,offsetY:n=0,offsetX:o,round:s,hasInstance:c})=>{const{width:d,height:h}=nr(p=>p.viewport),v=O.useRef(null),g=O.useRef(null);return Ja("log",function([w,y]){var C;if(!w||!v.current||(u&&(v.current.text=(Math.round(Xe().customData*Math.pow(10,s))/Math.pow(10,s)).toFixed(s)),!i))return;let b=w[i];if(e?b=(C=y.info.programs)==null?void 0:C.length:i==="matriceCount"?b=Ye.value:!l&&y.info.render&&(b=(t?y.info.memory:y.info.render)[i]),i==="fps"&&(v.current.color=Xe().overclockingFps?Oe(f).overClock.toString():`rgb(${Oe(f).fps.toString()})`),v.current.text=(Math.round(b*Math.pow(10,s))/Math.pow(10,s)).toFixed(s),c){const S=y.info.instance;if(typeof S>"u"&&i!=="matriceCount")return;let R;i==="matriceCount"?R=yt.value:R=S[i],R>0?(v.current.fontSize=a/1.15,g.current.fontSize=b>0?a/1.4:a,v.current.position.y=h/2-n-a/1.9,g.current.text=" ±	"+(Math.round(R*Math.pow(10,s))/Math.pow(10,s)).toFixed(s)):(g.current.text&&(g.current.text=""),v.current.position.y=h/2-n-a,v.current.fontSize=a)}Ye.value-=1,v.current.updateMatrix(),v.current.matrixWorld.copy(v.current.matrix)}),x.jsxs(O.Suspense,{fallback:null,children:[x.jsxs(jn,{textAlign:"justify",matrixAutoUpdate:!1,ref:v,font:Gn,fontSize:a,position:[-d/2+o+a,h/2-n-a,0],color:r,characters:"0123456789",onUpdate:p=>{p.updateMatrix(),Ye.value-=1,p.matrixWorld.copy(p.matrix)},children:[x.jsx("meshBasicMaterial",{blending:hn}),"0"]}),c&&x.jsx(jn,{textAlign:"justify",matrixAutoUpdate:!1,ref:g,font:Gn,fontSize:8,position:[-d/2+o+a,h/2-n-a*1.15,0],color:"lightgrey",characters:"0123456789",onUpdate:p=>{p.updateMatrix(),Ye.value-=1,p.matrixWorld.copy(p.matrix)},children:x.jsx("meshBasicMaterial",{blending:hn})})]})}),Ki=({colorBlind:l,customData:r,minimal:f,matrixUpdate:u})=>x.jsxs(x.Fragment,{children:[x.jsx(Je,{colorBlind:l,color:`rgb(${Oe(l).fps.toString()})`,isPerf:!0,metric:"fps",fontSize:14,offsetX:140,round:0}),x.jsx(Je,{color:`rgb(${Oe(l).cpu.toString()})`,isPerf:!0,metric:"cpu",fontSize:14,offsetX:72,round:3}),x.jsx(Je,{color:`rgb(${Oe(l).gpu.toString()})`,isPerf:!0,metric:"gpu",fontSize:14,offsetX:10,round:3}),f?null:x.jsxs(x.Fragment,{children:[x.jsx(Je,{metric:"calls",fontSize:14,offsetX:200,round:0,hasInstance:!0}),x.jsx(Je,{metric:"triangles",fontSize:14,offsetX:260,round:0,hasInstance:!0}),x.jsx(Je,{isMemory:!0,metric:"geometries",fontSize:14,offsetY:30,offsetX:0,round:0}),x.jsx(Je,{isMemory:!0,metric:"textures",fontSize:14,offsetY:30,offsetX:80,round:0}),x.jsx(Je,{isShadersInfo:!0,metric:"programs",fontSize:14,offsetY:30,offsetX:140,round:0}),x.jsx(Je,{metric:"lines",fontSize:14,offsetY:30,offsetX:200,round:0,hasInstance:!0}),x.jsx(Je,{metric:"points",fontSize:14,offsetY:30,offsetX:260,round:0,hasInstance:!0}),u&&x.jsx(Je,{isPerf:!0,metric:"matriceCount",fontSize:14,offsetY:30,offsetX:320,round:0,hasInstance:!0})]}),r&&x.jsx(Je,{color:`rgb(${Oe(l).custom.toString()})`,customData:r,fontSize:14,offsetY:0,offsetX:f?200:320,round:r.round||2})]}),qi=({colorBlind:l,minimal:r,chart:f={length:120,hz:60}})=>{const u=O.useMemo(()=>({fps:new Float32Array(f.length*3),cpu:new Float32Array(f.length*3),gpu:new Float32Array(f.length*3)}),[f]),t=O.useRef(null),e=O.useRef(null),i=O.useRef(null),a=O.useRef(null),n=O.useMemo(()=>new rr(0,0,0),[]),o=(s,c=1,d,h)=>{let v=0;const{width:g,height:p}=h,w=Xe().chart.data[s];if(!w||w.length===0)return;const y=r?2:6,C=r?12:50;let b=w.length;for(let S=0;S<b;S++){let R=(Xe().chart.circularId+S+1)%b;w[R]!==void 0&&(w[R]>v&&(v=w[R]*c),n.set(y+S/(b-1)*(g-y*2)-g/2,Math.min(100,w[R])*c/100*(p-y*2-C)-p/2,0),n.toArray(d.attributes.position.array,S*3))}d.attributes.position.needsUpdate=!0};return Hn(function({viewport:c}){o("fps",1,t.current,c),e.current&&e.current.color.set(Xe().overclockingFps?Oe(l).overClock.toString():`rgb(${Oe(l).fps.toString()})`),o("gpu",5,i.current,c),o("cpu",5,a.current,c)}),x.jsxs(x.Fragment,{children:[x.jsxs("line",{onUpdate:s=>{s.updateMatrix(),Ye.value-=1,s.matrixWorld.copy(s.matrix)},children:[x.jsx("bufferGeometry",{ref:t,children:x.jsx("bufferAttribute",{attach:"attributes-position",count:f.length,array:u.fps,itemSize:3,usage:Ur,needsUpdate:!0})}),x.jsx("lineBasicMaterial",{ref:e,color:`rgb(${Oe(l).fps.toString()})`,transparent:!0,opacity:.5})]}),x.jsxs("line",{onUpdate:s=>{s.updateMatrix(),Ye.value-=1,s.matrixWorld.copy(s.matrix)},children:[x.jsx("bufferGeometry",{ref:i,children:x.jsx("bufferAttribute",{attach:"attributes-position",count:f.length,array:u.gpu,itemSize:3,usage:Ur,needsUpdate:!0})}),x.jsx("lineBasicMaterial",{color:`rgb(${Oe(l).gpu.toString()})`,transparent:!0,opacity:.5})]}),x.jsxs("line",{onUpdate:s=>{s.updateMatrix(),Ye.value-=1,s.matrixWorld.copy(s.matrix)},children:[x.jsx("bufferGeometry",{ref:a,children:x.jsx("bufferAttribute",{attach:"attributes-position",count:f.length,array:u.cpu,itemSize:3,usage:Ur,needsUpdate:!0})}),x.jsx("lineBasicMaterial",{color:`rgb(${Oe(l).cpu.toString()})`,transparent:!0,opacity:.5})]})]})},Qi=({colorBlind:l,chart:r,customData:f,matrixUpdate:u,showGraph:t=!0,antialias:e=!0,minimal:i})=>{const a=O.useRef(void 0),n=qe(o=>o.paused);return x.jsxs(oi,{style:{display:"flex",position:"absolute",height:`${i?37:t?100:60}px`,minWidth:`${i?"100px":f?"370px":"310px"}`},children:[x.jsx(jo,{ref:a,orthographic:!0,camera:{rotation:[0,0,0]},dpr:e?[1,2]:1,gl:{antialias:!0,alpha:!0,stencil:!1,depth:!1},onCreated:({scene:o})=>{o.traverse(s=>{s.matrixWorldAutoUpdate=!1,s.matrixAutoUpdate=!1})},flat:!0,style:{marginBottom:"-42px",position:"relative",pointerEvents:"none",background:"transparent !important",height:`${i?37:t?100:60}px`},children:n?null:x.jsxs(x.Fragment,{children:[x.jsx($i,{}),x.jsx(Ki,{customData:f,minimal:i,matrixUpdate:u}),t&&x.jsx(qi,{colorBlind:l,minimal:i,chart:r})]})}),n&&x.jsxs(ai,{children:[x.jsx(Bi,{})," PAUSED"]})]})},$i=()=>(Hn(function({gl:r,scene:f,camera:u}){u.updateMatrix(),Ye.value-=1,u.matrixWorld.copy(u.matrix),u.matrixWorldInverse.copy(u.matrixWorld).invert(),r.render(f,u),yt.value=0,Ye.value=0},1/0),null),es=O.forwardRef(({portal:l,className:r,children:f,name:u,...t},e)=>{const i=nr(s=>s.gl),a=O.useRef(null),n=O.useRef(null),o=l?.current!=null?l.current:i.domElement.parentNode;return O.useLayoutEffect(()=>{if(!a.current||!o)return;const s=document.createElement("div"),c=n.current=Go.createRoot(s);return o.appendChild(s),()=>{c.unmount(),n.current=null,o.removeChild(s)}},[o]),O.useLayoutEffect(()=>{const s=n.current;s&&s.render(x.jsx("div",{ref:e,className:r,children:f}))}),x.jsx("group",{name:u,...t,ref:a})});function ts(l){let r=0;for(let u in l.attributes){const t=l.getAttribute(u);r+=t.count*t.itemSize*t.array.BYTES_PER_ELEMENT}const f=l.getIndex();return r+=f?f.count*f.itemSize*f.array.BYTES_PER_ELEMENT:0,r}const On=(l,r)=>{const f=t=>{switch(t){case 1e3:return"RepeatWrapping";case 1001:return"ClampToEdgeWrapping";case 1002:return"MirroredRepeatWrapping";default:return"ClampToEdgeWrapping"}},u=t=>{switch(t){case 3e3:return"LinearEncoding";case 3001:return"sRGBEncoding";case 3002:return"RGBEEncoding";case 3003:return"LogLuvEncoding";case 3004:return"RGBM7Encoding";case 3005:return"RGBM16Encoding";case 3006:return"RGBDEncoding";case 3007:return"GammaEncoding";default:return"ClampToEdgeWrapping"}};return{name:l,url:r.image.currentSrc,encoding:u(r.encoding),wrapT:f(r.wrapT),flipY:r.flipY.toString()}},rs=({program:l,material:r,setTexNumber:f})=>{const u=qe(i=>i.gl),[t,e]=O.useState(null);return O.useEffect(()=>{if(u){const i=l?.getUniforms();let a=0;const n=new Map;i.seq.forEach(o=>{if(!o.id.includes("uTroika")&&o.id!=="isOrthographic"&&o.id!=="uvTransform"&&o.id!=="lightProbe"&&o.id!=="projectionMatrix"&&o.id!=="viewMatrix"&&o.id!=="normalMatrix"&&o.id!=="modelMatrix"&&o.id!=="modelViewMatrix"){let s=[],c={name:o.id};o.cache&&(o.cache.forEach(d=>{typeof d<"u"&&s.push(d.toString().substring(0,4))}),c.value=s.join(),r[o.id]&&r[o.id].image&&r[o.id].image&&(a++,c.value=On(o.id,r[o.id])),c.value||(c.value="empty"),n.set(o.id,c))}}),r.uniforms&&Object.keys(r.uniforms).forEach(o=>{const s=r.uniforms[o];if(s.value){const{value:c}=s;let d={name:o};if(o.includes("uTroika"))return;if(c.isTexture)a++,d.value=On(o,c);else{let h=JSON.stringify(c);try{h=JSON.stringify(c)}catch{h=c.toString()}d.value=h}n.set(o,d)}}),a>0&&f(a),e(n)}},[]),x.jsx(to,{children:t&&Array.from(t.values()).map(i=>x.jsx("span",{children:typeof i.value=="string"?x.jsx("li",{children:x.jsxs("span",{children:[i.name," :"," ",x.jsxs("b",{children:[i.value.substring(0,30),i.value.length>30?"...":""]})]})}):x.jsxs(x.Fragment,{children:[x.jsx("li",{children:x.jsxs("b",{children:[i.value.name,":"]})}),x.jsxs("div",{children:[Object.keys(i.value).map(a=>a!=="name"?x.jsx("div",{children:a==="url"?x.jsx("a",{href:i.value[a],target:"_blank",children:x.jsx("img",{src:i.value[a]})}):x.jsxs("li",{children:[a,": ",x.jsx("b",{children:i.value[a]})]})},a):null),x.jsxs(ro,{onClick:()=>{var a;console.info(r[i.value.name]||((a=r?.uniforms[i.value.name])==null?void 0:a.value))},children:["console.info(",i.value.name,");"]})]})]})},i.name))})},ns=({el:l})=>{qe(u=>u.log);const r=qe(u=>u.gl),f=u=>{if(!r)return 0;const t=Math.round(u.drawCounts.total/(r.info.render.triangles+r.info.render.lines+r.info.render.points)*100*10)/10;return isFinite(t)&&t||0};return x.jsx(x.Fragment,{children:l.drawCounts.total>0&&x.jsxs(Ge,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[l.drawCounts.type==="Triangle"?x.jsx(io,{style:{top:"-1px"}}):x.jsx(no,{style:{top:"-1px"}}),l.drawCounts.total,x.jsxs("small",{children:[l.drawCounts.type,"s"]}),r&&x.jsxs(Ve,{style:{bottom:"-10px",width:"40px",fontWeight:"bold"},children:[l.visible&&!l.material.wireframe?f(l):0,"%"]})]})})},os=({el:l})=>{const[r,f]=O.useState(l.visible),[u,t]=O.useState(l.expand),[e,i]=O.useState(0),{meshes:a,program:n,material:o}=l;return x.jsxs(si,{children:[x.jsxs(ni,{onClick:()=>{l.expand=!u,Object.keys(a).forEach(s=>{const c=a[s];c.material.wireframe=!1}),t(!u)},children:[x.jsx(Br,{style:{marginRight:"6px"},children:u?x.jsx("span",{children:x.jsx(oo,{})}):x.jsx("span",{children:x.jsx(ao,{})})}),n&&x.jsxs("span",{children:[x.jsx(li,{children:n.name}),x.jsxs(Ge,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[x.jsx(Ri,{style:{top:"-1px"}}),Object.keys(a).length,x.jsx("small",{children:Object.keys(a).length>1?"users":"user"})]}),e>0&&x.jsxs(Ge,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[e>1?x.jsx(Pr,{style:{top:"-1px"}}):x.jsx(Pr,{style:{top:"-1px"}}),e,x.jsx("small",{children:"tex"})]}),x.jsx(ns,{el:l}),o.glslVersion==="300 es"&&x.jsxs(Ge,{style:{height:"auto",width:"auto",margin:"0 4px"},children:[x.jsx(Hi,{style:{top:"-1px"}}),"300",x.jsx("small",{children:"es"}),x.jsx(Ve,{style:{bottom:"-10px",width:"40px"},children:"glsl"})]})]}),x.jsx(ii,{onPointerEnter:()=>{Object.keys(a).forEach(s=>{const c=a[s];c.material.wireframe=!0})},onPointerLeave:()=>{Object.keys(a).forEach(s=>{const c=a[s];c.material.wireframe=!1})},onClick:s=>{s.stopPropagation(),Object.keys(a).forEach(c=>{const d=a[c],h=!r;d.visible=h,l.visible=h,f(h)})},children:r?x.jsx(Ei,{}):x.jsx(Ui,{})})]}),x.jsxs("div",{style:{maxHeight:u?"9999px":0,overflow:"hidden"},children:[x.jsxs(Pn,{children:[x.jsx(mi,{})," Uniforms:"]}),x.jsx(rs,{program:n,material:o,setTexNumber:i}),x.jsxs(Pn,{children:[x.jsx(yi,{})," Geometries:"]}),x.jsx(to,{children:a&&Object.keys(a).map(s=>a[s]&&a[s].geometry&&x.jsxs(di,{children:[x.jsxs("span",{children:[a[s].geometry.type,": "]}),a[s].userData&&a[s].userData.drawCount&&x.jsxs("b",{children:[x.jsxs("div",{children:[a[s].userData.drawCount.count,x.jsxs("small",{children:[" ",a[s].userData.drawCount.type,"s"]})]}),x.jsx("br",{}),x.jsxs("div",{children:[Math.round(ts(a[s].geometry)/1024*1e3)/1e3,"Kb",x.jsx("small",{children:" memory used"})]})]})]},s))}),x.jsxs(ro,{onClick:()=>{console.info(o)},children:["console.info(",o.type,")"]})]})]})},as=()=>{qe(r=>r.triggerProgramsUpdate);const l=qe(r=>r.programs);return x.jsx(ui,{children:l&&Array.from(l.values()).map(r=>r&&r?x.jsx(os,{el:r},r.material.uuid):null)})},Oe=l=>({overClock:"#ff6eff",fps:l?"100, 143, 255":"238,38,110",cpu:l?"254, 254, 98":"66,226,46",gpu:l?"254,254,254":"253,151,31",custom:l?"86,180,233":"40,255,255"}),is=({showGraph:l,colorBlind:r})=>{const f=qe(t=>t.overclockingFps),u=qe(t=>t.fpsLimit);return x.jsxs(Ve,{style:l?{color:f?Oe(r).overClock.toString():`rgb(${Oe(r).fps})`}:{},children:["FPS ",f?`${u}🚀`:""]})},ss=({showGraph:l,colorBlind:r,customData:f,minimal:u})=>{const t=qe(e=>e.gl);return t?x.jsxs(ri,{children:[x.jsxs(Ge,{children:[x.jsx(_i,{}),x.jsx(Ve,{style:l?{color:`rgb(${Oe(r).gpu.toString()})`}:{},children:"GPU"}),x.jsx(Fr,{children:"ms"})]}),x.jsxs(Ge,{children:[x.jsx(zi,{}),x.jsx(Ve,{style:l?{color:`rgb(${Oe(r).cpu.toString()})`}:{},children:"CPU"}),x.jsx(Fr,{children:"ms"})]}),x.jsxs(Ge,{children:[x.jsx(Fi,{}),x.jsx(is,{showGraph:l,colorBlind:r})]}),!u&&t&&x.jsxs(Ge,{children:[x.jsx(Zi,{}),x.jsx(Ve,{children:t.info.render.calls===1?"call":"calls"})]}),!u&&t&&x.jsxs(Ge,{children:[x.jsx(io,{}),x.jsx(Ve,{children:"Triangles"})]}),f&&x.jsxs(Ge,{children:[x.jsx(vi,{}),x.jsx(Ve,{style:l?{color:`rgb(${Oe(r).custom})`}:{},children:f.name}),f.info&&x.jsx(Fr,{children:f.info})]})]}):null},ls=({showGraph:l,colorBlind:r,deepAnalyze:f,customData:u,matrixUpdate:t,openByDefault:e,minimal:i})=>x.jsxs(x.Fragment,{children:[x.jsx(ss,{showGraph:l,colorBlind:r,customData:u,minimal:i}),!i&&x.jsx(us,{matrixUpdate:t,openByDefault:e,deepAnalyze:f,showGraph:l})]}),fs=({matrixUpdate:l})=>x.jsxs("div",{children:[x.jsxs(Ge,{children:[x.jsx(ji,{}),x.jsx(Ve,{children:"Geometries"})]}),x.jsxs(Ge,{children:[x.jsx(Pr,{}),x.jsx(Ve,{children:"Textures"})]}),x.jsxs(Ge,{children:[x.jsx(no,{}),x.jsx(Ve,{children:"shaders"})]}),x.jsxs(Ge,{children:[x.jsx(Oi,{}),x.jsx(Ve,{children:"Lines"})]}),x.jsxs(Ge,{children:[x.jsx(bi,{}),x.jsx(Ve,{children:"Points"})]}),l&&x.jsxs(Ge,{children:[x.jsx(Ai,{}),x.jsx(Ve,{children:"Matrices"})]})]}),In=({tab:l,title:r,set:f})=>{const u=qe(t=>t.tab);return x.jsx(Br,{className:`${u===l?" __perf_toggle_tab_active":""}`,onClick:()=>{f(!0),ze({tab:l})},children:x.jsx("span",{children:r})})},us=({openByDefault:l,showGraph:r,deepAnalyze:f,matrixUpdate:u})=>{const[t,e]=Wn.useState(l);return x.jsxs("span",{children:[x.jsx(cs,{show:t,showGraph:r,matrixUpdate:u}),l&&!f?null:x.jsxs(ci,{className:"__perf_toggle",children:[f&&x.jsx(In,{tab:"programs",title:"Programs",set:e}),f&&x.jsx(In,{tab:"infos",title:"Infos",set:e}),x.jsx(Br,{onClick:()=>{e(!t)},children:t?x.jsxs("span",{children:[x.jsx(oo,{})," Minimize"]}):x.jsxs("span",{children:[x.jsx(ao,{})," More"]})})]})]})},cs=({show:l,showGraph:r,matrixUpdate:f})=>{const u=qe(t=>t.tab);return x.jsxs(x.Fragment,{children:[x.jsx(fs,{matrixUpdate:f}),l&&x.jsx("div",{children:x.jsx(fi,{style:{marginTop:r?"38px":0},children:u==="programs"&&x.jsx(as,{})})})]})},gs=({showGraph:l=!0,colorBlind:r=!1,openByDefault:f=!0,className:u,overClock:t=!1,style:e,position:i="top-right",chart:a,logsPerSecond:n,deepAnalyze:o=!1,antialias:s=!0,customData:c,matrixUpdate:d,minimal:h})=>{const v=O.useRef(null);return x.jsxs(x.Fragment,{children:[x.jsx(ei,{logsPerSecond:n,chart:a,overClock:t,deepAnalyze:o,matrixUpdate:d}),x.jsx(es,{name:"r3f-perf",children:x.jsxs(ti,{className:(u?" ".concat(u):" ")+` ${i||""} ${h?"minimal":""}`,style:{minHeight:h?"37px":l?"100px":"60px",...e},ref:v,children:[x.jsx(Qi,{perfContainerRef:v,colorBlind:r,chart:a,showGraph:l,antialias:s,customData:c,minimal:h,matrixUpdate:d}),x.jsx(ls,{colorBlind:r,showGraph:l,deepAnalyze:o,openByDefault:f,customData:c,matrixUpdate:d,minimal:h})]})})]})};export{gs as Perf,ei as PerfHeadless,vs as getCustomData,Xe as getPerf,ps as setCustomData,ze as setPerf,qe as usePerf};
